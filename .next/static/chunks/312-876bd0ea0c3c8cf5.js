(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[312],{8568:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(2265),i=n(3979);function a(e){let t=(0,r.useRef)(null),n=(0,r.useRef)(null);return n.current&&n.current.update(e),(0,r.useEffect)(()=>(n.current=new i.cW({...e,ref:t}),()=>{n.current=null}),[]),r.createElement("div",{ref:t})}},4301:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(t.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function a(e){i(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===r(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):(("string"==typeof e||"[object String]"===t)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(Error().stack)),new Date(NaN))}function o(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function l(e){i(1,arguments);var t=a(e),n=t.getUTCDay();return t.setUTCDate(t.getUTCDate()-((n<1?7:0)+n-1)),t.setUTCHours(0,0,0,0),t}function u(e){i(1,arguments);var t=a(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var o=l(r),u=new Date(0);u.setUTCFullYear(n,0,4),u.setUTCHours(0,0,0,0);var c=l(u);return t.getTime()>=o.getTime()?n+1:t.getTime()>=c.getTime()?n:n-1}n.d(t,{Z:function(){return _}});var c,s={};function d(e,t){i(1,arguments);var n,r,l,u,c,d,h,f,p=o(null!==(n=null!==(r=null!==(l=null!==(u=null==t?void 0:t.weekStartsOn)&&void 0!==u?u:null==t?void 0:null===(c=t.locale)||void 0===c?void 0:null===(d=c.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==l?l:s.weekStartsOn)&&void 0!==r?r:null===(h=s.locale)||void 0===h?void 0:null===(f=h.options)||void 0===f?void 0:f.weekStartsOn)&&void 0!==n?n:0);if(!(p>=0&&p<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=a(e),m=v.getUTCDay();return v.setUTCDate(v.getUTCDate()-((m<p?7:0)+m-p)),v.setUTCHours(0,0,0,0),v}function h(e,t){i(1,arguments);var n,r,l,u,c,h,f,p,v=a(e),m=v.getUTCFullYear(),g=o(null!==(n=null!==(r=null!==(l=null!==(u=null==t?void 0:t.firstWeekContainsDate)&&void 0!==u?u:null==t?void 0:null===(c=t.locale)||void 0===c?void 0:null===(h=c.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==l?l:s.firstWeekContainsDate)&&void 0!==r?r:null===(f=s.locale)||void 0===f?void 0:null===(p=f.options)||void 0===p?void 0:p.firstWeekContainsDate)&&void 0!==n?n:1);if(!(g>=1&&g<=7))throw RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var b=new Date(0);b.setUTCFullYear(m+1,0,g),b.setUTCHours(0,0,0,0);var y=d(b,t),w=new Date(0);w.setUTCFullYear(m,0,g),w.setUTCHours(0,0,0,0);var E=d(w,t);return v.getTime()>=y.getTime()?m+1:v.getTime()>=E.getTime()?m:m-1}function f(e,t){for(var n=Math.abs(e).toString();n.length<t;)n="0"+n;return(e<0?"-":"")+n}var p={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return f("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):f(n+1,2)},d:function(e,t){return f(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return f(e.getUTCHours()%12||12,t.length)},H:function(e,t){return f(e.getUTCHours(),t.length)},m:function(e,t){return f(e.getUTCMinutes(),t.length)},s:function(e,t){return f(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length;return f(Math.floor(e.getUTCMilliseconds()*Math.pow(10,n-3)),t.length)}},v={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"};function m(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),a=r%60;return 0===a?n+String(i):n+String(i)+(t||"")+f(a,2)}function g(e,t){return e%60==0?(e>0?"-":"+")+f(Math.abs(e)/60,2):b(e,t)}function b(e,t){var n=e>0?"-":"+",r=Math.abs(e);return n+f(Math.floor(r/60),2)+(t||"")+f(r%60,2)}var y={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return p.y(e,t)},Y:function(e,t,n,r){var i=h(e,r),a=i>0?i:1-i;return"YY"===t?f(a%100,2):"Yo"===t?n.ordinalNumber(a,{unit:"year"}):f(a,t.length)},R:function(e,t){return f(u(e),t.length)},u:function(e,t){return f(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return f(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return f(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return p.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return f(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var l=function(e,t){i(1,arguments);var n=a(e);return Math.round((d(n,t).getTime()-(function(e,t){i(1,arguments);var n,r,a,l,u,c,f,p,v=o(null!==(n=null!==(r=null!==(a=null!==(l=null==t?void 0:t.firstWeekContainsDate)&&void 0!==l?l:null==t?void 0:null===(u=t.locale)||void 0===u?void 0:null===(c=u.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==a?a:s.firstWeekContainsDate)&&void 0!==r?r:null===(f=s.locale)||void 0===f?void 0:null===(p=f.options)||void 0===p?void 0:p.firstWeekContainsDate)&&void 0!==n?n:1),m=h(e,t),g=new Date(0);return g.setUTCFullYear(m,0,v),g.setUTCHours(0,0,0,0),d(g,t)})(n,t).getTime())/6048e5)+1}(e,r);return"wo"===t?n.ordinalNumber(l,{unit:"week"}):f(l,t.length)},I:function(e,t,n){var r=function(e){i(1,arguments);var t=a(e);return Math.round((l(t).getTime()-(function(e){i(1,arguments);var t=u(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),l(n)})(t).getTime())/6048e5)+1}(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):f(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):p.d(e,t)},D:function(e,t,n){var r=function(e){i(1,arguments);var t=a(e),n=t.getTime();return t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0),Math.floor((n-t.getTime())/864e5)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):f(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getUTCDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return f(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getUTCDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return f(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return f(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,i=e.getUTCHours();switch(r=12===i?v.noon:0===i?v.midnight:i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,i=e.getUTCHours();switch(r=i>=17?v.evening:i>=12?v.afternoon:i>=4?v.morning:v.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return p.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):p.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):f(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return(0===r&&(r=24),"ko"===t)?n.ordinalNumber(r,{unit:"hour"}):f(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):p.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):p.s(e,t)},S:function(e,t){return p.S(e,t)},X:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return g(i);case"XXXX":case"XX":return b(i);default:return b(i,":")}},x:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return g(i);case"xxxx":case"xx":return b(i);default:return b(i,":")}},O:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+m(i,":");default:return"GMT"+b(i,":")}},z:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+m(i,":");default:return"GMT"+b(i,":")}},t:function(e,t,n,r){return f(Math.floor((r._originalDate||e).getTime()/1e3),t.length)},T:function(e,t,n,r){return f((r._originalDate||e).getTime(),t.length)}},w=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},E=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},k={p:E,P:function(e,t){var n,r=e.match(/(P+)(p+)?/)||[],i=r[1],a=r[2];if(!a)return w(e,t);switch(i){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",w(i,t)).replace("{{time}}",E(a,t))}},S=["D","DD"],C=["YY","YYYY"];function T(e,t,n){if("YYYY"===e)throw RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var x={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function M(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}var P={date:M({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:M({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:M({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},R={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function O(e){return function(t,n){var r;if("formatting"===(null!=n&&n.context?String(n.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,a=null!=n&&n.width?String(n.width):i;r=e.formattingValues[a]||e.formattingValues[i]}else{var o=e.defaultWidth,l=null!=n&&n.width?String(n.width):e.defaultWidth;r=e.values[l]||e.values[o]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function A(e){return function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.width,a=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],o=t.match(a);if(!o)return null;var l=o[0],u=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(u)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}(u,function(e){return e.test(l)}):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}(u,function(e){return e.test(l)});return n=e.valueCallback?e.valueCallback(c):c,{value:n=r.valueCallback?r.valueCallback(n):n,rest:t.slice(l.length)}}}var D={code:"en-US",formatDistance:function(e,t,n){var r,i=x[e];return(r="string"==typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!=n&&n.addSuffix)?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:P,formatRelative:function(e,t,n,r){return R[e]},localize:{ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:O({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:O({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:O({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:O({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:O({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(c={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(c.matchPattern);if(!n)return null;var r=n[0],i=e.match(c.parsePattern);if(!i)return null;var a=c.valueCallback?c.valueCallback(i[0]):i[0];return{value:a=t.valueCallback?t.valueCallback(a):a,rest:e.slice(r.length)}}),era:A({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:A({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:A({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:A({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:A({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}},Q=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,L=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,N=/^'([^]*?)'?$/,U=/''/g,I=/[a-zA-Z]/;function _(e,t,n){i(2,arguments);var l,u,c,d,h,f,p,v,m,g,b,w,E,x,M,P,R,O,A,_=String(t),F=null!==(u=null!==(c=null==n?void 0:n.locale)&&void 0!==c?c:s.locale)&&void 0!==u?u:D,W=o(null!==(d=null!==(h=null!==(f=null!==(p=null==n?void 0:n.firstWeekContainsDate)&&void 0!==p?p:null==n?void 0:null===(v=n.locale)||void 0===v?void 0:null===(m=v.options)||void 0===m?void 0:m.firstWeekContainsDate)&&void 0!==f?f:s.firstWeekContainsDate)&&void 0!==h?h:null===(g=s.locale)||void 0===g?void 0:null===(b=g.options)||void 0===b?void 0:b.firstWeekContainsDate)&&void 0!==d?d:1);if(!(W>=1&&W<=7))throw RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var z=o(null!==(w=null!==(E=null!==(x=null!==(M=null==n?void 0:n.weekStartsOn)&&void 0!==M?M:null==n?void 0:null===(P=n.locale)||void 0===P?void 0:null===(R=P.options)||void 0===R?void 0:R.weekStartsOn)&&void 0!==x?x:s.weekStartsOn)&&void 0!==E?E:null===(O=s.locale)||void 0===O?void 0:null===(A=O.options)||void 0===A?void 0:A.weekStartsOn)&&void 0!==w?w:0);if(!(z>=0&&z<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!F.localize)throw RangeError("locale must contain localize property");if(!F.formatLong)throw RangeError("locale must contain formatLong property");var Z=a(e);if(!function(e){return i(1,arguments),(!!function(e){return i(1,arguments),e instanceof Date||"object"===r(e)&&"[object Date]"===Object.prototype.toString.call(e)}(e)||"number"==typeof e)&&!isNaN(Number(a(e)))}(Z))throw RangeError("Invalid time value");var j=((l=new Date(Date.UTC(Z.getFullYear(),Z.getMonth(),Z.getDate(),Z.getHours(),Z.getMinutes(),Z.getSeconds(),Z.getMilliseconds()))).setUTCFullYear(Z.getFullYear()),Z.getTime()-l.getTime()),H=function(e,t){return i(2,arguments),function(e,t){i(2,arguments);var n=a(e).getTime(),r=o(t);return new Date(n+r)}(e,-o(t))}(Z,j),q={firstWeekContainsDate:W,weekStartsOn:z,locale:F,_originalDate:Z};return _.match(L).map(function(e){var t=e[0];return"p"===t||"P"===t?(0,k[t])(e,F.formatLong):e}).join("").match(Q).map(function(r){if("''"===r)return"'";var i,a=r[0];if("'"===a)return(i=r.match(N))?i[1].replace(U,"'"):r;var o=y[a];if(o)return null!=n&&n.useAdditionalWeekYearTokens||-1===C.indexOf(r)||T(r,t,String(e)),null!=n&&n.useAdditionalDayOfYearTokens||-1===S.indexOf(r)||T(r,t,String(e)),o(H,r,F.localize,q);if(a.match(I))throw RangeError("Format string contains an unescaped latin alphabet character `"+a+"`");return r}).join("")}},730:function(e,t){},4794:function(e,t,n){var r,i;void 0!==(i="function"==typeof(r=function(){"use strict";var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"];function i(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function a(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function o(t,n){for(var i=0;i<r.length;i++){var a=r[i];this[a]=i<t?e:this.methodFactory(a,t,n)}this.log=this.debug}function l(e,n,r){return function(){typeof console!==t&&(o.call(this,n,r),this[e].apply(this,arguments))}}function u(r,o,u){var c;return"debug"===(c=r)&&(c="log"),typeof console!==t&&("trace"===c&&n?a:void 0!==console[c]?i(console,c):void 0!==console.log?i(console,"log"):e)||l.apply(this,arguments)}function c(e,n,i){var a,l=this;n=null==n?"WARN":n;var c="loglevel";function s(){var e;if(typeof window!==t&&c){try{e=window.localStorage[c]}catch(e){}if(typeof e===t)try{var n=window.document.cookie,r=n.indexOf(encodeURIComponent(c)+"=");-1!==r&&(e=/^([^;]+)/.exec(n.slice(r))[1])}catch(e){}return void 0===l.levels[e]&&(e=void 0),e}}"string"==typeof e?c+=":"+e:"symbol"==typeof e&&(c=void 0),l.name=e,l.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},l.methodFactory=i||u,l.getLevel=function(){return a},l.setLevel=function(n,i){if("string"==typeof n&&void 0!==l.levels[n.toUpperCase()]&&(n=l.levels[n.toUpperCase()]),"number"==typeof n&&n>=0&&n<=l.levels.SILENT){if(a=n,!1!==i&&function(e){var n=(r[e]||"silent").toUpperCase();if(typeof window!==t&&c){try{window.localStorage[c]=n;return}catch(e){}try{window.document.cookie=encodeURIComponent(c)+"="+n+";"}catch(e){}}}(n),o.call(l,n,e),typeof console===t&&n<l.levels.SILENT)return"No console available for logging"}else throw"log.setLevel() called with invalid level: "+n},l.setDefaultLevel=function(e){n=e,s()||l.setLevel(e,!1)},l.resetLevel=function(){l.setLevel(n,!1),function(){if(typeof window!==t&&c){try{window.localStorage.removeItem(c);return}catch(e){}try{window.document.cookie=encodeURIComponent(c)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}()},l.enableAll=function(e){l.setLevel(l.levels.TRACE,e)},l.disableAll=function(e){l.setLevel(l.levels.SILENT,e)};var d=s();null==d&&(d=n),l.setLevel(d,!1)}var s=new c,d={};s.getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw TypeError("You must supply a name when creating a logger.");var t=d[e];return t||(t=d[e]=new c(e,s.getLevel(),s.methodFactory)),t};var h=typeof window!==t?window.log:void 0;return s.noConflict=function(){return typeof window!==t&&window.log===s&&(window.log=h),s},s.getLoggers=function(){return d},s.default=s,s})?r.call(t,n,t,e):r)&&(e.exports=i)},3088:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(2898);let i=(0,r.Z)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]])},4775:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(2898);let i=(0,r.Z)("ServerCrash",[["path",{d:"M6 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-2",key:"4b9dqc"}],["path",{d:"M6 14H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-2",key:"22nnkd"}],["path",{d:"M6 6h.01",key:"1utrut"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"m13 6-4 6h6l-4 6",key:"14hqih"}]])},6489:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(2898);let i=(0,r.Z)("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]])},4135:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(2898);let i=(0,r.Z)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]])},9292:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(2898);let i=(0,r.Z)("VideoOff",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.34l1 1L22 8v8",key:"ubwiq0"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2l10 10Z",key:"1l10zd"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},7957:function(){},8829:function(e,t,n){"use strict";n.d(t,{IC:function(){return nC},zc:function(){return nD}});var r,i=n(2265),a=e=>{let t=i.useRef(e);return i.useEffect(()=>{t.current=e}),t},o=n(3905);n(730);var l=n(3961),u=n(9473),c=n(4794);function s(e){return"function"==typeof e}function d(e){return function(t){if(s(null==t?void 0:t.lift))return t.lift(function(t){try{return e(t,this)}catch(e){this.error(e)}});throw TypeError("Unable to lift unknown Observable type")}}var h=n(44);function f(e){var t=e(function(e){Error.call(e),e.stack=Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var p=f(function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}});function v(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var m=function(){var e;function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e,t,n,r,i,a=this._parentage;if(a){if(this._parentage=null,Array.isArray(a))try{for(var o=(0,h.XA)(a),l=o.next();!l.done;l=o.next())l.value.remove(this)}catch(t){e={error:t}}finally{try{l&&!l.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}else a.remove(this)}var u=this.initialTeardown;if(s(u))try{u()}catch(e){i=e instanceof p?e.errors:[e]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var d=(0,h.XA)(c),f=d.next();!f.done;f=d.next()){var v=f.value;try{y(v)}catch(e){i=null!=i?i:[],e instanceof p?i=(0,h.ev)((0,h.ev)([],(0,h.CR)(i)),(0,h.CR)(e.errors)):i.push(e)}}}catch(e){n={error:e}}finally{try{f&&!f.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}}if(i)throw new p(i)}},t.prototype.add=function(e){var n;if(e&&e!==this){if(this.closed)y(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}},t.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},t.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},t.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&v(t,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&v(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t}(),g=m.EMPTY;function b(e){return e instanceof m||e&&"closed"in e&&s(e.remove)&&s(e.add)&&s(e.unsubscribe)}function y(e){s(e)?e():e.unsubscribe()}var w={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},E={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=E.delegate;return(null==i?void 0:i.setTimeout)?i.setTimeout.apply(i,(0,h.ev)([e,t],(0,h.CR)(n))):setTimeout.apply(void 0,(0,h.ev)([e,t],(0,h.CR)(n)))},clearTimeout:function(e){var t=E.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function k(e){E.setTimeout(function(){var t=w.onUnhandledError;if(t)t(e);else throw e})}function S(){}var C=T("C",void 0,void 0);function T(e,t,n){return{kind:e,value:t,error:n}}var x=null;function M(e){if(w.useDeprecatedSynchronousErrorHandling){var t=!x;if(t&&(x={errorThrown:!1,error:null}),e(),t){var n=x,r=n.errorThrown,i=n.error;if(x=null,r)throw i}}else e()}var P=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,b(t)&&t.add(n)):n.destination=N,n}return(0,h.ZT)(t,e),t.create=function(e,t,n){return new D(e,t,n)},t.prototype.next=function(e){this.isStopped?L(T("N",e,void 0),this):this._next(e)},t.prototype.error=function(e){this.isStopped?L(T("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?L(C,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(m),R=Function.prototype.bind;function O(e,t){return R.call(e,t)}var A=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){Q(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){Q(e)}else Q(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){Q(e)}},e}(),D=function(e){function t(t,n,r){var i,a,o=e.call(this)||this;return s(t)||!t?i={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:o&&w.useDeprecatedNextContext?((a=Object.create(t)).unsubscribe=function(){return o.unsubscribe()},i={next:t.next&&O(t.next,a),error:t.error&&O(t.error,a),complete:t.complete&&O(t.complete,a)}):i=t,o.destination=new A(i),o}return(0,h.ZT)(t,e),t}(P);function Q(e){w.useDeprecatedSynchronousErrorHandling?w.useDeprecatedSynchronousErrorHandling&&x&&(x.errorThrown=!0,x.error=e):k(e)}function L(e,t){var n=w.onStoppedNotification;n&&E.setTimeout(function(){return n(e,t)})}var N={closed:!0,next:S,error:function(e){throw e},complete:S};function U(e,t,n,r,i){return new I(e,t,n,r,i)}var I=function(e){function t(t,n,r,i,a,o){var l=e.call(this,t)||this;return l.onFinalize=a,l.shouldUnsubscribe=o,l._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,l._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,l._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,l}return(0,h.ZT)(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),n||null===(t=this.onFinalize)||void 0===t||t.call(this)}},t}(P);function _(e,t){return d(function(n,r){var i=0;n.subscribe(U(r,function(n){r.next(e.call(t,n,i++))}))})}var F=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function W(e){return s(null==e?void 0:e.then)}var z="function"==typeof Symbol&&Symbol.observable||"@@observable";function Z(e){return e}var j=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r,i=this,a=(r=e)&&r instanceof P||r&&s(r.next)&&s(r.error)&&s(r.complete)&&b(r)?e:new D(e,t,n);return M(function(){var e=i.operator,t=i.source;a.add(e?e.call(a,t):t?i._subscribe(a):i._trySubscribe(a))}),a},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=H(t))(function(t,r){var i=new D({next:function(t){try{e(t)}catch(e){r(e),i.unsubscribe()}},error:r,complete:t});n.subscribe(i)})},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[z]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0===e.length?Z:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)})(this)},e.prototype.toPromise=function(e){var t=this;return new(e=H(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}();function H(e){var t;return null!==(t=null!=e?e:w.Promise)&&void 0!==t?t:Promise}function q(e){return Symbol.asyncIterator&&s(null==e?void 0:e[Symbol.asyncIterator])}function Y(e){return TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var V="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function $(e){return s(null==e?void 0:e[V])}function B(e){return(0,h.FC)(this,arguments,function(){var t,n,r;return(0,h.Jh)(this,function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,(0,h.qq)(t.read())];case 3:if(r=(n=i.sent()).value,!n.done)return[3,5];return[4,(0,h.qq)(void 0)];case 4:return[2,i.sent()];case 5:return[4,(0,h.qq)(r)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function X(e){return s(null==e?void 0:e.getReader)}function G(e){if(e instanceof j)return e;if(null!=e){if(s(e[z]))return new j(function(t){var n=e[z]();if(s(n.subscribe))return n.subscribe(t);throw TypeError("Provided object does not correctly implement Symbol.observable")});if(F(e))return new j(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()});if(W(e))return new j(function(t){e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,k)});if(q(e))return J(e);if($(e))return new j(function(t){var n,r;try{for(var i=(0,h.XA)(e),a=i.next();!a.done;a=i.next()){var o=a.value;if(t.next(o),t.closed)return}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.complete()});if(X(e))return J(B(e))}throw Y(e)}function J(e){return new j(function(t){(function(e,t){var n,r,i,a;return(0,h.mG)(this,void 0,void 0,function(){var o;return(0,h.Jh)(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=(0,h.KL)(e),l.label=1;case 1:return[4,n.next()];case 2:if((r=l.sent()).done)return[3,4];if(o=r.value,t.next(o),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return i={error:l.sent()},[3,11];case 6:if(l.trys.push([6,,9,10]),!(r&&!r.done&&(a=n.return)))return[3,8];return[4,a.call(n)];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})})(e,t).catch(function(e){return t.error(e)})})}function K(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=!1);var a=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(a),!i)return a}function ee(e,t,n){return(void 0===n&&(n=1/0),s(t))?ee(function(n,r){return _(function(e,i){return t(n,e,r,i)})(G(e(n,r)))},n):("number"==typeof t&&(n=t),d(function(t,r){var i,a,o,l,u,c,s,d,h,f,p,v;return i=n,c=[],s=0,d=0,h=!1,f=function(){!h||c.length||s||r.complete()},p=function(e){return s<i?v(e):c.push(e)},v=function(t){o&&r.next(t),s++;var n=!1;G(e(t,d++)).subscribe(U(r,function(e){null==a||a(e),o?p(e):r.next(e)},function(){n=!0},void 0,function(){if(n)try{for(s--;c.length&&s<i;)!function(){var e=c.shift();l?K(r,l,function(){return v(e)}):v(e)}();f()}catch(e){r.error(e)}}))},t.subscribe(U(r,p,function(){h=!0,f()})),function(){null==u||u()}}))}function et(e){var t;return(t=e[e.length-1])&&s(t.schedule)?e.pop():void 0}function en(e,t){return void 0===t&&(t=0),d(function(n,r){n.subscribe(U(r,function(n){return K(r,e,function(){return r.next(n)},t)},function(){return K(r,e,function(){return r.complete()},t)},function(n){return K(r,e,function(){return r.error(n)},t)}))})}function er(e,t){return void 0===t&&(t=0),d(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function ei(e,t){if(!e)throw Error("Iterable cannot be null");return new j(function(n){K(n,t,function(){var r=e[Symbol.asyncIterator]();K(n,t,function(){r.next().then(function(e){e.done?n.complete():n.next(e.value)})},0,!0)})})}function ea(e,t){return t?function(e,t){if(null!=e){if(s(e[z]))return G(e).pipe(er(t),en(t));if(F(e))return new j(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})});if(W(e))return G(e).pipe(er(t),en(t));if(q(e))return ei(e,t);if($(e))return new j(function(n){var r;return K(n,t,function(){r=e[V](),K(n,t,function(){var e,t,i;try{t=(e=r.next()).value,i=e.done}catch(e){n.error(e);return}i?n.complete():n.next(t)},0,!0)}),function(){return s(null==r?void 0:r.return)&&r.return()}});if(X(e))return ei(B(e),t)}throw Y(e)}(e,t):G(e)}function eo(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(void 0===(e=1)&&(e=1/0),ee(Z,e))(ea(t,et(t)))}function el(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=et(e);return d(function(t,r){(n?eo(e,t,n):eo(e,t)).subscribe(r)})}var eu=f(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),ec=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return(0,h.ZT)(t,e),t.prototype.lift=function(e){var t=new es(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new eu},t.prototype.next=function(e){var t=this;M(function(){var n,r;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var i=(0,h.XA)(t.currentObservers),a=i.next();!a.done;a=i.next())a.value.next(e)}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}})},t.prototype.error=function(e){var t=this;M(function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}})},t.prototype.complete=function(){var e=this;M(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this.hasError,r=this.isStopped,i=this.observers;return n||r?g:(this.currentObservers=null,i.push(e),new m(function(){t.currentObservers=null,v(i,e)}))},t.prototype._checkFinalizedStatuses=function(e){var t=this.hasError,n=this.thrownError,r=this.isStopped;t?e.error(n):r&&e.complete()},t.prototype.asObservable=function(){var e=new j;return e.source=this,e},t.create=function(e,t){return new es(e,t)},t}(j),es=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return(0,h.ZT)(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:g},t}(ec);function ed(e,t){return d(function(n,r){var i=0;n.subscribe(U(r,function(n){return e.call(t,n,i++)&&r.next(n)}))})}var eh=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return(0,h.ZT)(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n.closed||t.next(this._value),n},t.prototype.getValue=function(){var e=this.hasError,t=this.thrownError,n=this._value;if(e)throw t;return this._throwIfClosed(),n},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(ec);function ef(e){return d(function(t,n){G(e).subscribe(U(n,function(){return n.complete()},S)),n.closed||t.subscribe(n)})}function ep(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=et(e);return ea(e,n)}var ev=Array.isArray,em=["addListener","removeListener"],eg=["addEventListener","removeEventListener"],eb=["on","off"];function ey(e,t){return function(n){return function(r){return e[n](t,r)}}}var ew=function(e){function t(t,n){return e.call(this)||this}return(0,h.ZT)(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(m),eE={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=eE.delegate;return(null==i?void 0:i.setInterval)?i.setInterval.apply(i,(0,h.ev)([e,t],(0,h.CR)(n))):setInterval.apply(void 0,(0,h.ev)([e,t],(0,h.CR)(n)))},clearInterval:function(e){var t=eE.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},ek=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return(0,h.ZT)(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n,r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(i,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),eE.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&eE.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(e){r=!0,n=e||Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,v(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(ew),eS={now:function(){return(eS.delegate||Date).now()},delegate:void 0},eC=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=eS.now,e}(),eT=new(function(e){function t(t,n){void 0===n&&(n=eC.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r}return(0,h.ZT)(t,e),t.prototype.flush=function(e){var t,n=this.actions;if(this._active){n.push(e);return}this._active=!0;do if(t=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,t){for(;e=n.shift();)e.unsubscribe();throw t}},t}(eC))(ek),ex=f(function(e){return function(t){void 0===t&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}});function eM(e){throw new ex(e)}function eP(e,t){return e===t}var eR=Object.defineProperty,eO=Object.defineProperties,eA=Object.getOwnPropertyDescriptors,eD=Object.getOwnPropertySymbols,eQ=Object.prototype.hasOwnProperty,eL=Object.prototype.propertyIsEnumerable,eN=(e,t,n)=>t in e?eR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eU=(e,t)=>{for(var n in t||(t={}))eQ.call(t,n)&&eN(e,n,t[n]);if(eD)for(var n of eD(t))eL.call(t,n)&&eN(e,n,t[n]);return e},eI=(e,t)=>eO(e,eA(t)),e_=(e,t,n)=>new Promise((r,i)=>{var a=e=>{try{l(n.next(e))}catch(e){i(e)}},o=e=>{try{l(n.throw(e))}catch(e){i(e)}},l=e=>e.done?r(e.value):Promise.resolve(e.value).then(a,o);l((n=n.apply(e,t)).next())});function eF(e){return e instanceof o.Ix}var eW=[o.TQ.ConnectionStateChanged,o.TQ.RoomMetadataChanged,o.TQ.ActiveSpeakersChanged,o.TQ.ConnectionQualityChanged,o.TQ.ParticipantConnected,o.TQ.ParticipantDisconnected,o.TQ.ParticipantPermissionsChanged,o.TQ.ParticipantMetadataChanged,o.TQ.TrackMuted,o.TQ.TrackUnmuted,o.TQ.TrackPublished,o.TQ.TrackUnpublished,o.TQ.TrackStreamStateChanged,o.TQ.TrackSubscriptionFailed,o.TQ.TrackSubscriptionPermissionChanged,o.TQ.TrackSubscriptionStatusChanged,o.TQ.LocalTrackPublished,o.TQ.LocalTrackUnpublished];o.dd.ConnectionQualityChanged,o.dd.IsSpeakingChanged,o.dd.ParticipantMetadataChanged,o.dd.ParticipantPermissionsChanged,o.dd.TrackMuted,o.dd.TrackUnmuted,o.dd.TrackPublished,o.dd.TrackUnpublished,o.dd.TrackStreamStateChanged,o.dd.TrackSubscriptionFailed,o.dd.TrackSubscriptionPermissionChanged,o.dd.TrackSubscriptionStatusChanged,o.dd.LocalTrackPublished,o.dd.LocalTrackUnpublished;var ez=c.getLogger("lk-components-js");ez.setDefaultLevel("WARN");var eZ=[{columns:1,rows:1,name:"1x1",minTiles:1,maxTiles:1,minWidth:0,minHeight:0},{columns:1,rows:2,name:"1x2",minTiles:2,maxTiles:2,minWidth:0,minHeight:0},{columns:2,rows:1,name:"2x1",minTiles:2,maxTiles:2,minWidth:900,minHeight:0},{columns:2,rows:2,name:"2x2",minTiles:3,maxTiles:4,minWidth:560,minHeight:0},{columns:3,rows:3,name:"3x3",minTiles:5,maxTiles:9,minWidth:700,minHeight:0},{columns:4,rows:4,name:"4x4",minTiles:10,maxTiles:16,minWidth:960,minHeight:0},{columns:5,rows:5,name:"5x5",minTiles:17,maxTiles:25,minWidth:1100,minHeight:0}],ej=[],eH={showChat:!1,unreadMessages:0};function eq(e){return"object"==typeof e}function eY(e){return Array.isArray(e)&&e.filter(eq).length>0}function eV(e){var t;return void 0!==e&&(!!e&&e.hasOwnProperty("participant")&&e.hasOwnProperty("source")&&e.hasOwnProperty("track")&&void 0!==(null==(t=e.publication)?void 0:t.track)||!!e&&e.hasOwnProperty("participant")&&e.hasOwnProperty("source")&&e.hasOwnProperty("publication")&&void 0!==e.publication)}function e$(e){return!!e&&e.hasOwnProperty("participant")&&e.hasOwnProperty("source")&&void 0===e.publication}function eB(e){return"string"==typeof e||"number"==typeof e?`${e}`:eV(e)?`${e.participant.identity}_${e.publication.source}`:`${e.participant.identity}_${e.source}`}function eX(e,t){var n,r,i,a;return(null!=(r=null==(n=e.joinedAt)?void 0:n.getTime())?r:0)-(null!=(a=null==(i=t.joinedAt)?void 0:i.getTime())?a:0)}function eG(e,t){let n=Math.max(e.length,t.length);return Array(n).fill([]).map((n,r)=>[e[r],t[r]])}function eJ(e,t,n){return e.filter(e=>!t.map(e=>n(e)).includes(n(e)))}function eK(e){return e.map(e=>"string"==typeof e||"number"==typeof e?`${e}`:eB(e))}function e0(e,t){let n=t.findIndex(t=>eB(t)===eB(e));if(-1===n)throw Error(`Element not part of the array: ${eB(e)} not in ${eK(t)}`);return n}function e1(e,t){let n=e.reduce((e,n,r)=>r%t==0?[...e,[n]]:[...e.slice(0,-1),[...e.slice(-1)[0],n]],[]);return n}function e5(e,...t){let n=new j(n=>{let r=()=>{n.next(e)};return t.forEach(t=>{e.on(t,r)}),()=>{t.forEach(t=>{e.off(t,r)})}}).pipe(el(e));return n}function e2(e,t){let n=new j(n=>{let r=(...e)=>{n.next(e)};return e.on(t,r),()=>{e.off(t,r)}});return n}function e7(e){let t=e5(e,o.TQ.AudioPlaybackStatusChanged).pipe(_(e=>({canPlayAudio:e.canPlaybackAudio})));return t}function e6(e){return`lk-${e}`}function e4(e){if(eV(e))return e.publication;{let{source:t,name:n,participant:r}=e;if(t&&n)return r.getTracks().find(e=>e.source===t&&e.trackName===n);if(n)return r.getTrackByName(n);if(t)return r.getTrack(t);throw Error("At least one of source and name needs to be defined")}}function e3(e,...t){let n=new j(n=>{let r=()=>{n.next(e)};return t.forEach(t=>{e.on(t,r)}),()=>{t.forEach(t=>{e.off(t,r)})}}).pipe(el(e));return n}function e9(e){let t=e3(e,o.dd.TrackMuted,o.dd.TrackUnmuted,o.dd.ParticipantPermissionsChanged,o.dd.TrackPublished,o.dd.TrackUnpublished,o.dd.LocalTrackPublished,o.dd.LocalTrackUnpublished,o.dd.MediaDevicesError,o.dd.TrackSubscriptionStatusChanged).pipe(_(e=>{let{isMicrophoneEnabled:t,isCameraEnabled:n,isScreenShareEnabled:r}=e,i=e.getTrack(o.fQ.Source.Microphone),a=e.getTrack(o.fQ.Source.Camera);return{isCameraEnabled:n,isMicrophoneEnabled:t,isScreenShareEnabled:r,cameraTrack:a,microphoneTrack:i,participant:e}}));return t}function e8(e,t){let n=new j(n=>{let r=(...e)=>{n.next(e)};return e.on(t,r),()=>{e.off(t,r)}});return n}function te(e,t){var n,r;return e3(e,o.dd.TrackMuted,o.dd.TrackUnmuted,o.dd.TrackSubscribed,o.dd.TrackUnsubscribed,o.dd.LocalTrackPublished,o.dd.LocalTrackUnpublished).pipe(_(e=>{var n;let r=e.getTrack(t);return null==(n=null==r?void 0:r.isMuted)||n}),el(null==(r=null==(n=e.getTrack(t))?void 0:n.isMuted)||r))}var tt={CHAT:"lk-chat-topic"};function tn(e,t,n){return e_(this,arguments,function*(e,t,n,r={}){let{kind:i,destination:a}=r;yield e.publishData(t,null!=i?i:o.WO.RELIABLE,{destination:a,topic:n})})}var tr=new TextEncoder,ti=new TextDecoder,ta=e=>tr.encode(JSON.stringify({message:e.message,timestamp:e.timestamp})),to=e=>JSON.parse(ti.decode(e));function tl(e,t,n=!0){let r=e.localParticipant,i=[r,...Array.from(e.participants.values())],a=[];return i.forEach(e=>{t.forEach(t=>{let r=Array.from(e.tracks.values()).filter(e=>e.source===t&&(!n||e.track)).map(t=>({participant:e,publication:t,source:t.source}));a.push(...r)})}),{trackReferences:a,participants:i}}var tu=n(7042),tc=function(e,t){let[n,r]=(0,i.useState)(e);return(0,i.useEffect)(()=>{let n=setTimeout(()=>r(e),t||500);return()=>{clearTimeout(n)}},[e,t]),n},ts=function(e,{threshold:t=0,root:n=null,rootMargin:r="0%",freezeOnceVisible:a=!1}){let[o,l]=(0,i.useState)(),u=(null==o?void 0:o.isIntersecting)&&a,c=([e])=>{l(e)};return(0,i.useEffect)(()=>{let i=null==e?void 0:e.current,a=!!window.IntersectionObserver;if(!a||u||!i)return;let o=new IntersectionObserver(c,{threshold:t,root:n,rootMargin:r});return o.observe(i),()=>o.disconnect()},[null==e?void 0:e.current,JSON.stringify(t),n,r,u]),o};"undefined"!=typeof window?i.useLayoutEffect:i.useEffect;var td=Object.defineProperty,th=Object.defineProperties,tf=Object.getOwnPropertyDescriptors,tp=Object.getOwnPropertySymbols,tv=Object.prototype.hasOwnProperty,tm=Object.prototype.propertyIsEnumerable,tg=(e,t,n)=>t in e?td(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tb=(e,t)=>{for(var n in t||(t={}))tv.call(t,n)&&tg(e,n,t[n]);if(tp)for(var n of tp(t))tm.call(t,n)&&tg(e,n,t[n]);return e},ty=(e,t)=>th(e,tf(t)),tw=(e,t)=>{var n={};for(var r in e)tv.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&tp)for(var r of tp(e))0>t.indexOf(r)&&tm.call(e,r)&&(n[r]=e[r]);return n},tE=(e,t,n)=>new Promise((r,i)=>{var a=e=>{try{l(n.next(e))}catch(e){i(e)}},o=e=>{try{l(n.throw(e))}catch(e){i(e)}},l=e=>e.done?r(e.value):Promise.resolve(e.value).then(a,o);l((n=n.apply(e,t)).next())}),tk=()=>r||(r=function(){let e=!1,t=[],n=new Map;if("undefined"==typeof window)return;let r=new ResizeObserver((r,i)=>{t=t.concat(r),e||window.requestAnimationFrame(()=>{let r=new Set;for(let e=0;e<t.length;e++){if(r.has(t[e].target))continue;r.add(t[e].target);let a=n.get(t[e].target);null==a||a.forEach(n=>n(t[e],i))}t=[],e=!1}),e=!0});return{observer:r,subscribe(e,t){var i;r.observe(e);let a=null!=(i=n.get(e))?i:[];a.push(t),n.set(e,a)},unsubscribe(e,t){var i;let a=null!=(i=n.get(e))?i:[];if(1===a.length){r.unobserve(e),n.delete(e);return}let o=a.indexOf(t);-1!==o&&a.splice(o,1),n.set(e,a)}}}()),tS=e=>{let[t,n]=i.useState({width:0,height:0});i.useLayoutEffect(()=>{if(e.current){let{width:t,height:r}=e.current.getBoundingClientRect();n({width:t,height:r})}},[e.current]);let r=i.useCallback(e=>n(e.contentRect),[]);return!function(e,t){let n=tk(),r=a(t);i.useLayoutEffect(()=>{let t=!1,i=e.current;if(i)return null==n||n.subscribe(i,a),()=>{t=!0,null==n||n.unsubscribe(i,a)};function a(e,n){t||r.current(e,n)}},[e.current,n,r]),null==n||n.observer}(e,r),t};function tC(e,t){let[n,r]=i.useState(t);return i.useEffect(()=>{if("undefined"==typeof window||!e)return;let t=e.subscribe(r);return()=>t.unsubscribe()},[e]),n}function tT(e,t){if("show_chat"===t.msg)return ty(tb({},e),{showChat:!0,unreadMessages:0});if("hide_chat"===t.msg)return ty(tb({},e),{showChat:!1});if("toggle_chat"===t.msg){let t=ty(tb({},e),{showChat:!e.showChat});return!0===t.showChat&&(t.unreadMessages=0),t}return"unread_msg"===t.msg?ty(tb({},e),{unreadMessages:t.count}):tb({},e)}function tx(e,t){return"set_pin"===t.msg?[t.trackReference]:"clear_pin"===t.msg?[]:tb({},e)}var tM=i.createContext(void 0);function tP(){return i.useContext(tM)}var tR=i.createContext(void 0);function tO(){return i.useContext(tR)}var tA=i.createContext(void 0);function tD(){return i.useContext(tA)}function tQ(e){var t;let n=tD(),r=tO(),i=null!=(t=null!=e?e:n)?t:null==r?void 0:r.participant;if(!i)throw Error("No participant provided, make sure you are inside a participant context or pass the participant explicitly");return i}var tL=i.createContext(void 0);function tN(){let e=i.useContext(tL);if(!e)throw Error("tried to access room context outside of livekit room component");return e}function tU(){return i.useContext(tL)}function tI(e){let t=tU(),n=null!=e?e:t;if(!n)throw Error("No room provided, make sure you are inside a Room context or pass the room explicitly");return n}function t_(...e){let t=tb({},e[0]);for(let n=1;n<e.length;n++){let r=e[n];for(let e in r){let n=t[e],i=r[e];"function"==typeof n&&"function"==typeof i&&"o"===e[0]&&"n"===e[1]&&e.charCodeAt(2)>=65&&90>=e.charCodeAt(2)?t[e]=function(...e){return(...t)=>{for(let n of e)"function"==typeof n&&n(...t)}}(n,i):("className"===e||"UNSAFE_className"===e)&&"string"==typeof n&&"string"==typeof i?t[e]=(0,tu.Z)(n,i):t[e]=void 0!==i?i:n}}return t}function tF(e){let t=tI(e),n=i.useMemo(()=>e2(t,o.TQ.ConnectionStateChanged).pipe(_(([e])=>e),el(t.state)),[t]),r=tC(n,t.state);return r}function tW(e,t={}){var n;let r=tQ(t.participant),[a,o]=i.useState(!!(null==(n=r.getTrack(e))?void 0:n.isMuted));return i.useEffect(()=>{let t=te(r,e).subscribe(o);return()=>t.unsubscribe()},[r,e]),a}var tz={connect:!0,audio:!1,video:!1};function tZ(e){return void 0!==e}function tj(...e){return t_(...e.filter(tZ))}function tH(e,t,n){return i.Children.map(e,r=>i.isValidElement(r)&&i.Children.only(e)?i.cloneElement(r,ty(tb({},t),{key:n})):r)}function tq(e,t={}){var n;let[r,a]=i.useState(e4(e)),[l,u]=i.useState(null==r?void 0:r.isMuted),[c,s]=i.useState(null==r?void 0:r.isSubscribed),[d,h]=i.useState(null==r?void 0:r.track),[f,p]=i.useState("landscape"),v=i.useRef(),{className:m,trackObserver:g}=i.useMemo(()=>(function(e){let t=e4(e),n=e9(e.participant).pipe(_(()=>e4(e)),el(t)),r=e6(e.source===o.fQ.Source.Camera||e.source===o.fQ.Source.ScreenShare?"participant-media-video":"participant-media-audio");return{className:r,trackObserver:n}})(e),[null!=(n=e.participant.sid)?n:e.participant.identity,e.source,eV(e)&&e.publication.trackSid]);return i.useEffect(()=>{let e=g.subscribe(e=>{ez.debug("update track",e),a(e),u(null==e?void 0:e.isMuted),s(null==e?void 0:e.isSubscribed),h(null==e?void 0:e.track)});return()=>null==e?void 0:e.unsubscribe()},[g]),i.useEffect(()=>{var n,r;return d&&(v.current&&d.detach(v.current),(null==(n=t.element)?void 0:n.current)&&!(eF(e.participant)&&(null==d?void 0:d.kind)==="audio")&&d.attach(t.element.current)),v.current=null==(r=t.element)?void 0:r.current,()=>{v.current&&(null==d||d.detach(v.current))}},[d,t.element]),i.useEffect(()=>{var e,t;if("number"==typeof(null==(e=null==r?void 0:r.dimensions)?void 0:e.width)&&"number"==typeof(null==(t=null==r?void 0:r.dimensions)?void 0:t.height)){let e=r.dimensions.width>r.dimensions.height?"landscape":"portrait";p(e)}},[r]),{publication:r,isMuted:l,isSubscribed:c,track:d,elementProps:tj(t.props,tb({className:m,"data-lk-local-participant":e.participant.isLocal,"data-lk-source":null==r?void 0:r.source},(null==r?void 0:r.kind)==="video"&&{"data-lk-orientation":f}))}}function tY(e,t,n={}){let r=i.useRef([]),a=i.useRef(-1),l=t!==a.current,u="function"==typeof n.customSortFunction?n.customSortFunction(e):function(e){let t=[],n=[],r=[],i=[];e.forEach(e=>{e.participant.isLocal&&e.source===o.fQ.Source.Camera?t.push(e):e.source===o.fQ.Source.ScreenShare?n.push(e):e.source===o.fQ.Source.Camera?r.push(e):i.push(e)});let a=function(e){let t=[],n=[];e.forEach(e=>{e.participant.isLocal?t.push(e):n.push(e)}),t.sort((e,t)=>eX(e.participant,t.participant)),n.sort((e,t)=>eX(e.participant,t.participant));let r=[...n,...t];return r}(n),l=function(e){let t=[],n=[];return e.forEach(e=>{e.participant.isLocal?t.push(e):n.push(e)}),n.sort((e,t)=>{var n,r,i,a,o,l,u,c,s;return e.participant.isSpeaking&&t.participant.isSpeaking?(n=e.participant,t.participant.audioLevel-n.audioLevel):e.participant.isSpeaking!==t.participant.isSpeaking?(r=e.participant,i=t.participant,r.isSpeaking===i.isSpeaking?0:r.isSpeaking?-1:1):e.participant.lastSpokeAt!==t.participant.lastSpokeAt?(a=e.participant,o=t.participant,void 0!==a.lastSpokeAt||void 0!==o.lastSpokeAt?(null!=(u=null==(l=o.lastSpokeAt)?void 0:l.getTime())?u:0)-(null!=(s=null==(c=a.lastSpokeAt)?void 0:c.getTime())?s:0):0):eV(e)!==eV(t)?eV(e)?eV(t)?0:-1:eV(t)?1:0:e.participant.isCameraEnabled!==t.participant.isCameraEnabled?function(e,t){let n=e.participant.isCameraEnabled,r=t.participant.isCameraEnabled;return n===r?0:n?-1:1}(e,t):eX(e.participant,t.participant)}),[...t,...n]}(r);return[...t,...a,...l,...i]}(e),c=[...u];if(!1===l)try{c=function(e,t,n){let r=e.map(e=>{let n=t.find(t=>eB(e)===eB(t));return n||e});if(e.length<t.length){let n=eJ(t,e,eB);r=[...r,...n]}let i=e1(e,n),a=e1(t,n);if(eG(i,a).forEach(([e,t],i)=>{if(e&&t){let a=e1(r,n)[i],o={dropped:eJ(a,t,eB),added:eJ(t,a,eB)};(0!==o.added.length||0!==o.dropped.length)&&(ez.debug(`Detected visual changes on page: ${i}, current: ${eK(e)}, next: ${eK(t)}`,{changes:o}),o.added.length===o.dropped.length&&eG(o.added,o.dropped).forEach(([e,t])=>{if(e&&t)r=function(e,t,n){let r=e0(e,n),i=e0(t,n);return n.splice(r,1,t),n.splice(i,1,e),n}(e,t,r);else throw Error(`For a swap action we need a addition and a removal one is missing: ${e}, ${t}`)}),0===o.added.length&&o.dropped.length>0&&o.dropped.forEach(e=>{r=function(e,t){let n=e0(e,t);return t.splice(n,1),t}(e,r)}),o.added.length>0&&0===o.dropped.length&&o.added.forEach(e=>{r=[...r,e]}))}}),r.length>t.length){let n=eJ(e,t,eB);r=r.filter(e=>!n.map(eB).includes(eB(e)))}return r}(r.current,u,t)}catch(e){ez.error("Error while running updatePages(): ",e)}return l?r.current=u:r.current=c,a.current=t,c}function tV(e=[o.fQ.Source.Camera,o.fQ.Source.Microphone,o.fQ.Source.ScreenShare,o.fQ.Source.ScreenShareAudio,o.fQ.Source.Unknown],t={}){let n=tI(t.room),[r,a]=i.useState([]),[l,u]=i.useState([]),c=i.useMemo(()=>e.map(e=>eq(e)?e.source:e),[JSON.stringify(e)]);i.useEffect(()=>{let e=(function(e,t,n){var r,i;let a=null!=(r=n.additionalRoomEvents)?r:eW,l=null==(i=n.onlySubscribed)||i,u=Array.from(new Set([o.TQ.ParticipantConnected,o.TQ.ConnectionStateChanged,o.TQ.LocalTrackPublished,o.TQ.LocalTrackUnpublished,o.TQ.TrackPublished,o.TQ.TrackUnpublished,o.TQ.TrackSubscriptionStatusChanged,...a]).values()),c=e5(e,...u).pipe(_(e=>{let n=tl(e,t,l);return ez.debug(`TrackReference[] was updated. (length ${n.trackReferences.length})`,n),n}),el(tl(e,t,l)));return c})(n,c,{additionalRoomEvents:t.updateOnlyOn,onlySubscribed:t.onlySubscribed}).subscribe(({trackReferences:e,participants:t})=>{ez.debug("setting track bundles",e,t),a(e),u(t)});return()=>e.unsubscribe()},[n,JSON.stringify(t.updateOnlyOn),JSON.stringify(e)]);let s=i.useMemo(()=>{if(!eY(e))return r;{let t=function(e,t){let n=new Map;if(eY(e)){let r=e.filter(e=>e.withPlaceholder).map(e=>e.source);t.forEach(e=>{let t=e.getTracks().map(e=>{var t;return null==(t=e.track)?void 0:t.source}).filter(e=>void 0!==e),i=Array.from(function(e,t){let n=new Set(e);for(let e of t)n.delete(e);return n}(new Set(r),new Set(t)));i.length>0&&n.set(e.identity,i)})}return n}(e,l),n=Array.from(r);return l.forEach(e=>{var i;if(t.has(e.identity)){let a=null!=(i=t.get(e.identity))?i:[];a.forEach(t=>{r.find(({participant:n,publication:r})=>e.identity===n.identity&&r.source===t)||(ez.debug(`Add ${t} placeholder for participant ${e.identity}.`),n.push({participant:e,source:t}))})}}),n}},[r,l,e]);return s}function t$(e){let{mergedProps:t}=function({props:e}){let{dispatch:t,state:n}=function(){let e=i.useContext(tM);if(!e)throw Error("Tried to access LayoutContext context outside a LayoutContextProvider provider.");return e}().widget,{className:r}=i.useMemo(()=>(function(){let e=[e6("button"),e6("chat-toggle")].join(" ");return{className:e}})(),[]),a=i.useMemo(()=>t_(e,{className:r,onClick:()=>{t&&t({msg:"toggle_chat"})},"aria-pressed":(null==n?void 0:n.showChat)?"true":"false","data-lk-unread-msgs":n?n.unreadMessages<10?n.unreadMessages.toFixed(0):"9+":"0"}),[e,r,t,n]);return{mergedProps:a}}({props:e});return i.createElement("button",tb({},t),e.children)}function tB(e){let{buttonProps:t}=function(e){let t=tN(),n=tF(t),r=i.useMemo(()=>{let{className:r,disconnect:i}=function(e){let t=e6("disconnect-button");return{className:t,disconnect:t=>{e.disconnect(t)}}}(t),a=t_(e,{className:r,onClick:()=>{var t;return i(null==(t=e.stopTracks)||t)},disabled:n===o.em.Disconnected});return a},[t,e,n]);return{buttonProps:r}}(e);return i.createElement("button",tb({},t),e.children)}var tX=e=>i.createElement("svg",tb({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor"},e),i.createElement("path",{d:"M1.354.646a.5.5 0 1 0-.708.708l14 14a.5.5 0 0 0 .708-.708L11 10.293V4.5A1.5 1.5 0 0 0 9.5 3H3.707zM0 4.5a1.5 1.5 0 0 1 .943-1.393l9.532 9.533c-.262.224-.603.36-.975.36h-8A1.5 1.5 0 0 1 0 11.5z"}),i.createElement("path",{d:"m15.2 3.6-2.8 2.1a1 1 0 0 0-.4.8v3a1 1 0 0 0 .4.8l2.8 2.1a.5.5 0 0 0 .8-.4V4a.5.5 0 0 0-.8-.4z"})),tG=e=>i.createElement("svg",tb({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor"},e),i.createElement("path",{d:"M0 4.5A1.5 1.5 0 0 1 1.5 3h8A1.5 1.5 0 0 1 11 4.5v7A1.5 1.5 0 0 1 9.5 13h-8A1.5 1.5 0 0 1 0 11.5zM15.2 3.6l-2.8 2.1a1 1 0 0 0-.4.8v3a1 1 0 0 0 .4.8l2.8 2.1a.5.5 0 0 0 .8-.4V4a.5.5 0 0 0-.8-.4z"})),tJ=e=>i.createElement("svg",tb({xmlns:"http://www.w3.org/2000/svg",width:16,height:18,fill:"none"},e),i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M0 2.75A2.75 2.75 0 0 1 2.75 0h10.5A2.75 2.75 0 0 1 16 2.75v13.594a.75.75 0 0 1-1.234.572l-3.691-3.12a1.25 1.25 0 0 0-.807-.296H2.75A2.75 2.75 0 0 1 0 10.75v-8ZM2.75 1.5c-.69 0-1.25.56-1.25 1.25v8c0 .69.56 1.25 1.25 1.25h7.518c.65 0 1.279.23 1.775.65l2.457 2.077V2.75c0-.69-.56-1.25-1.25-1.25H2.75Z",clipRule:"evenodd"}),i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M3 4.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Z",clipRule:"evenodd"})),tK=e=>i.createElement("svg",tb({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),i.createElement("path",{fill:"currentcolor",fillRule:"evenodd",d:"M5.293 2.293a1 1 0 0 1 1.414 0l4.823 4.823a1.25 1.25 0 0 1 0 1.768l-4.823 4.823a1 1 0 0 1-1.414-1.414L9.586 8 5.293 3.707a1 1 0 0 1 0-1.414z",clipRule:"evenodd"})),t0=e=>i.createElement("svg",tb({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),i.createElement("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5},i.createElement("path",{d:"M10 1.75h4.25m0 0V6m0-4.25L9 7M6 14.25H1.75m0 0V10m0 4.25L7 9"}))),t1=e=>i.createElement("svg",tb({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M2 2.75A2.75 2.75 0 0 1 4.75 0h6.5A2.75 2.75 0 0 1 14 2.75v10.5A2.75 2.75 0 0 1 11.25 16h-6.5A2.75 2.75 0 0 1 2 13.25v-.5a.75.75 0 0 1 1.5 0v.5c0 .69.56 1.25 1.25 1.25h6.5c.69 0 1.25-.56 1.25-1.25V2.75c0-.69-.56-1.25-1.25-1.25h-6.5c-.69 0-1.25.56-1.25 1.25v.5a.75.75 0 0 1-1.5 0v-.5Z",clipRule:"evenodd"}),i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8.78 7.47a.75.75 0 0 1 0 1.06l-2.25 2.25a.75.75 0 1 1-1.06-1.06l.97-.97H1.75a.75.75 0 0 1 0-1.5h4.69l-.97-.97a.75.75 0 0 1 1.06-1.06l2.25 2.25Z",clipRule:"evenodd"})),t5=e=>i.createElement("svg",tb({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),i.createElement("path",{fill:"currentcolor",fillRule:"evenodd",d:"M4 6.104V4a4 4 0 1 1 8 0v2.104c1.154.326 2 1.387 2 2.646v4.5A2.75 2.75 0 0 1 11.25 16h-6.5A2.75 2.75 0 0 1 2 13.25v-4.5c0-1.259.846-2.32 2-2.646ZM5.5 4a2.5 2.5 0 0 1 5 0v2h-5V4Z",clipRule:"evenodd"})),t2=e=>i.createElement("svg",tb({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor"},e),i.createElement("path",{d:"M12.227 11.52a5.477 5.477 0 0 0 1.246-2.97.5.5 0 0 0-.995-.1 4.478 4.478 0 0 1-.962 2.359l-1.07-1.07C10.794 9.247 11 8.647 11 8V3a3 3 0 0 0-6 0v1.293L1.354.646a.5.5 0 1 0-.708.708l14 14a.5.5 0 0 0 .708-.708zM8 12.5c.683 0 1.33-.152 1.911-.425l.743.743c-.649.359-1.378.59-2.154.66V15h2a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1h2v-1.522a5.502 5.502 0 0 1-4.973-4.929.5.5 0 0 1 .995-.098A4.5 4.5 0 0 0 8 12.5z"}),i.createElement("path",{d:"M8.743 10.907 5 7.164V8a3 3 0 0 0 3.743 2.907z"})),t7=e=>i.createElement("svg",tb({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor"},e),i.createElement("path",{fillRule:"evenodd",d:"M2.975 8.002a.5.5 0 0 1 .547.449 4.5 4.5 0 0 0 8.956 0 .5.5 0 1 1 .995.098A5.502 5.502 0 0 1 8.5 13.478V15h2a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1h2v-1.522a5.502 5.502 0 0 1-4.973-4.929.5.5 0 0 1 .448-.547z",clipRule:"evenodd"}),i.createElement("path",{d:"M5 3a3 3 0 1 1 6 0v5a3 3 0 0 1-6 0z"})),t6=e=>i.createElement("svg",tb({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentcolor"},e),i.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),i.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"})),t4=e=>i.createElement("svg",tb({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentcolor"},e),i.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),i.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),i.createElement("g",{opacity:.25},i.createElement("path",{d:"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),i.createElement("path",{d:"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}))),t3=e=>i.createElement("svg",tb({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentcolor"},e),i.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),i.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),i.createElement("g",{opacity:.25},i.createElement("path",{d:"M6 6.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),i.createElement("path",{d:"M6 6.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}),i.createElement("path",{d:"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z"}))),t9=e=>i.createElement("svg",tb({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor"},e),i.createElement("g",{opacity:.25},i.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-4Zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-9Zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V.5Z"}),i.createElement("path",{d:"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-4Zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-9Zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V.5Z"}))),t8=e=>i.createElement("svg",tb({xmlns:"http://www.w3.org/2000/svg",width:20,height:16,fill:"none"},e),i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M0 2.75A2.75 2.75 0 0 1 2.75 0h14.5A2.75 2.75 0 0 1 20 2.75v10.5A2.75 2.75 0 0 1 17.25 16H2.75A2.75 2.75 0 0 1 0 13.25V2.75ZM2.75 1.5c-.69 0-1.25.56-1.25 1.25v10.5c0 .69.56 1.25 1.25 1.25h14.5c.69 0 1.25-.56 1.25-1.25V2.75c0-.69-.56-1.25-1.25-1.25H2.75Z",clipRule:"evenodd"}),i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.47 4.22a.75.75 0 0 1 1.06 0l2.25 2.25a.75.75 0 0 1-1.06 1.06l-.97-.97v4.69a.75.75 0 0 1-1.5 0V6.56l-.97.97a.75.75 0 0 1-1.06-1.06l2.25-2.25Z",clipRule:"evenodd"})),ne=e=>i.createElement("svg",tb({xmlns:"http://www.w3.org/2000/svg",width:20,height:16,fill:"none"},e),i.createElement("g",{fill:"currentColor"},i.createElement("path",{d:"M7.28 4.22a.75.75 0 0 0-1.06 1.06L8.94 8l-2.72 2.72a.75.75 0 1 0 1.06 1.06L10 9.06l2.72 2.72a.75.75 0 1 0 1.06-1.06L11.06 8l2.72-2.72a.75.75 0 0 0-1.06-1.06L10 6.94z"}),i.createElement("path",{fillRule:"evenodd",d:"M2.75 0A2.75 2.75 0 0 0 0 2.75v10.5A2.75 2.75 0 0 0 2.75 16h14.5A2.75 2.75 0 0 0 20 13.25V2.75A2.75 2.75 0 0 0 17.25 0zM1.5 2.75c0-.69.56-1.25 1.25-1.25h14.5c.69 0 1.25.56 1.25 1.25v10.5c0 .69-.56 1.25-1.25 1.25H2.75c-.69 0-1.25-.56-1.25-1.25z",clipRule:"evenodd"}))),nt=e=>i.createElement("svg",tb({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 0a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0V.75A.75.75 0 0 1 8 0Z",clipRule:"evenodd"}),i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 12a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0v-2.5A.75.75 0 0 1 8 12Z",clipRule:"evenodd",opacity:.7}),i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 1.072a.75.75 0 0 1 .274 1.024l-1.25 2.165a.75.75 0 0 1-1.299-.75l1.25-2.165A.75.75 0 0 1 12 1.072Z",clipRule:"evenodd"}),i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M6 11.464a.75.75 0 0 1 .274 1.025l-1.25 2.165a.75.75 0 0 1-1.299-.75l1.25-2.165A.75.75 0 0 1 6 11.464Z",clipRule:"evenodd",opacity:.6}),i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.928 4a.75.75 0 0 1-.274 1.025l-2.165 1.25a.75.75 0 1 1-.75-1.3l2.165-1.25A.75.75 0 0 1 14.928 4Z",clipRule:"evenodd"}),i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.536 10a.75.75 0 0 1-.275 1.024l-2.165 1.25a.75.75 0 0 1-.75-1.298l2.165-1.25A.75.75 0 0 1 4.536 10Z",clipRule:"evenodd",opacity:.5}),i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M16 8a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h2.5A.75.75 0 0 1 16 8Z",clipRule:"evenodd"}),i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4 8a.75.75 0 0 1-.75.75H.75a.75.75 0 0 1 0-1.5h2.5A.75.75 0 0 1 4 8Z",clipRule:"evenodd",opacity:.4}),i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.928 12a.75.75 0 0 1-1.024.274l-2.165-1.25a.75.75 0 0 1 .75-1.299l2.165 1.25A.75.75 0 0 1 14.928 12Z",clipRule:"evenodd",opacity:.9}),i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.536 6a.75.75 0 0 1-1.025.275l-2.165-1.25a.75.75 0 1 1 .75-1.3l2.165 1.25A.75.75 0 0 1 4.536 6Z",clipRule:"evenodd",opacity:.3}),i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 14.928a.75.75 0 0 1-1.024-.274l-1.25-2.165a.75.75 0 0 1 1.298-.75l1.25 2.165A.75.75 0 0 1 12 14.928Z",clipRule:"evenodd",opacity:.8}),i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M6 4.536a.75.75 0 0 1-1.024-.275l-1.25-2.165a.75.75 0 1 1 1.299-.75l1.25 2.165A.75.75 0 0 1 6 4.536Z",clipRule:"evenodd",opacity:.2})),nn=e=>i.createElement("svg",tb({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},e),i.createElement("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5},i.createElement("path",{d:"M13.25 7H9m0 0V2.75M9 7l5.25-5.25M2.75 9H7m0 0v4.25M7 9l-5.25 5.25"})));function nr(e){var{trackSource:t,participant:n}=e,r=tw(e,["trackSource","participant"]);let{mergedProps:a,inFocus:o}=function({trackSource:e,participant:t,props:n}){let r=tQ(t),a=tP(),{className:o}=i.useMemo(()=>(function(){let e=[e6("button"),e6("focus-toggle-button")].join(" ");return{className:e}})(),[]),l=i.useMemo(()=>{var t,n;let i=r.getTrack(e);return null!=a&&!!a.pin.state&&!!i&&(t={participant:r,source:e,publication:i},void 0!==(n=a.pin.state)&&(eV(t)?n.some(e=>e.participant.identity===t.participant.identity&&eV(e)&&e.publication.trackSid===t.publication.trackSid):!!e$(t)&&n.some(e=>e.participant.identity===t.participant.identity&&e$(e)&&e.source===t.source)))},[r,e,a]),u=i.useMemo(()=>t_(n,{className:o,onClick:t=>{var i;null==(i=n.onClick)||i.call(n,t);let o=r.getTrack(e);(null==a?void 0:a.pin.dispatch)&&o&&(l?a.pin.dispatch({msg:"clear_pin"}):a.pin.dispatch({msg:"set_pin",trackReference:{participant:r,publication:o,source:o.source}}))}}),[n,o,r,e,l,a]);return{mergedProps:u,inFocus:l}}({trackSource:t,participant:n,props:r});return i.createElement(tM.Consumer,null,e=>void 0!==e&&i.createElement("button",tb({},a),r.children?r.children:o?i.createElement(nn,null):i.createElement(t0,null)))}function ni(e){var{kind:t,initialSelection:n,onActiveDeviceChange:r,onDeviceListChange:a,onDeviceSelectError:l,exactMatch:u,track:c,requestPermissions:s}=e,h=tw(e,["kind","initialSelection","onActiveDeviceChange","onDeviceListChange","onDeviceSelectError","exactMatch","track","requestPermissions"]);let f=tU(),{devices:p,activeDeviceId:v,setActiveMediaDevice:m,className:g}=function({kind:e,room:t,track:n,requestPermissions:r}){let a=tU(),l=i.useMemo(()=>(function(e,t=!0){var n,r;let i=()=>e_(this,null,function*(){let n=yield o.du.getLocalDevices(e,t);a.next(n)}),a=new ec,l=a.pipe((r=()=>{var e;null==(e=null==navigator?void 0:navigator.mediaDevices)||e.removeEventListener("devicechange",i)},d(function(e,t){try{e.subscribe(t)}finally{t.add(r)}})));if("undefined"!=typeof window){if(!window.isSecureContext)throw Error("Accessing media devices is available only in secure contexts (HTTPS and localhost), in some or all supporting browsers. See: https://developer.mozilla.org/en-US/docs/Web/API/Navigator/mediaDevices");null==(n=null==navigator?void 0:navigator.mediaDevices)||n.addEventListener("devicechange",i)}return eo(o.du.getLocalDevices(e,t),l)})(e,r),[e,r]),u=tC(l,[]),[c,s]=i.useState(""),{className:h,activeDeviceObservable:f,setActiveMediaDevice:p}=i.useMemo(()=>(function(e,t,n){let r=new eh(void 0),i=t?e2(t,o.TQ.ActiveDeviceChanged).pipe(ed(([t])=>t===e),_(([e,t])=>(ez.debug("activeDeviceObservable | RoomEvent.ActiveDeviceChanged",{kind:e,deviceId:t}),t)),el(t.getActiveDevice(e))):r.asObservable(),a=e6("media-device-select");return{className:a,activeDeviceObservable:i,setActiveMediaDevice:(i,...a)=>e_(this,[i,...a],function*(i,a={}){var l,u,c;if(t){let n;ez.debug(`Switching active device of kind "${e}" with id ${i}.`),yield t.switchActiveDevice(e,i,a.exact);let s=null!=(l=t.getActiveDevice(e))?l:i;s!==i&&"default"!==i&&ez.info(`We tried to select the device with id (${i}), but the browser decided to select the device with id (${s}) instead.`),"audioinput"===e?n=null==(u=t.localParticipant.getTrack(o.fQ.Source.Microphone))?void 0:u.track:"videoinput"===e&&(n=null==(c=t.localParticipant.getTrack(o.fQ.Source.Camera))?void 0:c.track);let d="default"===i&&!n||"default"===i&&(null==n?void 0:n.mediaStreamTrack.label.startsWith("Default"));r.next(d?i:s)}else if(n){yield n.setDeviceId(a.exact?{exact:i}:i);let e=yield n.getDeviceId();r.next("default"===i&&n.mediaStreamTrack.label.startsWith("Default")?i:e)}else r.value!==i&&(ez.warn("device switch skipped, please provide either a room or a local track to switch on. "),r.next(i))})}})(e,null!=t?t:a,n),[e,t,a,n]);return i.useEffect(()=>{let e=f.subscribe(e=>{ez.info("setCurrentDeviceId",e),e&&s(e)});return()=>{null==e||e.unsubscribe()}},[f]),{devices:u,className:h,activeDeviceId:c,setActiveMediaDevice:p}}({kind:t,room:f,track:c,requestPermissions:s});i.useEffect(()=>{void 0!==n&&m(n)},[m]),i.useEffect(()=>{"function"==typeof a&&a(p)},[a,p]),i.useEffect(()=>{v&&""!==v&&(null==r||r(v))},[v]);let b=e=>tE(this,null,function*(){try{yield m(e,{exact:u})}catch(e){if(e instanceof Error)null==l||l(e);else throw e}}),y=i.useMemo(()=>tj(h,{className:g},{className:"lk-list"}),[g,h]);function w(e,t,n){return e===t||0===n&&"default"===t}return i.createElement("ul",tb({},y),p.map((e,t)=>i.createElement("li",{key:e.deviceId,id:e.deviceId,"data-lk-active":w(e.deviceId,v,t),"aria-selected":w(e.deviceId,v,t),role:"option"},i.createElement("button",{className:"lk-button",onClick:()=>b(e.deviceId)},e.label))))}function na(e){var{label:t="Allow Audio"}=e,n=tw(e,["label"]);let r=tN(),{mergedProps:a}=function({room:e,props:t}){let n=tI(e),{className:r,roomAudioPlaybackAllowedObservable:a,handleStartAudioPlayback:o}=i.useMemo(()=>(function(){let e=e6("start-audio-button");return{className:e,roomAudioPlaybackAllowedObservable:e7,handleStartAudioPlayback:e=>e_(this,null,function*(){ez.info("Start Audio for room: ",e),yield e.startAudio()})}})(),[]),l=i.useMemo(()=>a(n),[n,a]),{canPlayAudio:u}=tC(l,{canPlayAudio:!1}),c=i.useMemo(()=>t_(t,{className:r,onClick:()=>{o(n)},style:{display:u?"none":"block"}}),[t,r,u,o,n]);return{mergedProps:c,canPlayAudio:u}}({room:r,props:n});return i.createElement("button",tb({},a),t)}function no(e,t){switch(e){case o.fQ.Source.Microphone:return t?i.createElement(t7,null):i.createElement(t2,null);case o.fQ.Source.Camera:return t?i.createElement(tG,null):i.createElement(tX,null);case o.fQ.Source.ScreenShare:return t?i.createElement(ne,null):i.createElement(t8,null);default:return}}function nl(e){var{showIcon:t}=e,n=tw(e,["showIcon"]);let{buttonProps:r,enabled:a}=function(e){var t,{source:n,onChange:r,initialState:a,captureOptions:l}=e,u=tw(e,["source","onChange","initialState","captureOptions"]);let c=tU(),s=null==(t=null==c?void 0:c.localParticipant)?void 0:t.getTrack(n),{toggle:d,className:h,pendingObserver:f,enabledObserver:p}=i.useMemo(()=>c?function(e,t,n){let{localParticipant:r}=t,i=(e,t)=>{let n=!1;switch(e){case o.fQ.Source.Camera:n=t.isCameraEnabled;break;case o.fQ.Source.Microphone:n=t.isMicrophoneEnabled;break;case o.fQ.Source.ScreenShare:n=t.isScreenShareEnabled}return n},a=e9(r).pipe(_(t=>i(e,t.participant)),el(i(e,r))),l=new ec,u=e6("button");return{className:u,toggle:(t,i)=>e_(this,null,function*(){try{switch(null!=i||(i=n),l.next(!0),e){case o.fQ.Source.Camera:yield r.setCameraEnabled(null!=t?t:!r.isCameraEnabled,i);break;case o.fQ.Source.Microphone:yield r.setMicrophoneEnabled(null!=t?t:!r.isMicrophoneEnabled,i);break;case o.fQ.Source.ScreenShare:yield r.setScreenShareEnabled(null!=t?t:!r.isScreenShareEnabled,i)}}finally{l.next(!1)}}),enabledObserver:a,pendingObserver:l.asObservable()}}(n,c,l):function(){let e=!1,t=new ec,n=new ec,r=e6("button");return{className:r,toggle:r=>{n.next(!0),e=null!=r?r:!e,t.next(e),n.next(!1)},enabledObserver:t.asObservable(),pendingObserver:n.asObservable()}}(),[c,n,JSON.stringify(l)]),v=tC(f,!1),m=tC(p,null!=a?a:!!(null==s?void 0:s.isEnabled));i.useEffect(()=>{null==r||r(m)},[m,r]),i.useEffect(()=>{void 0!==a&&(ez.debug("forcing initial toggle state",n,a),d(a))},[]);let g=i.useMemo(()=>t_(u,{className:h}),[u,h]),b=i.useCallback(e=>{var t;d(),null==(t=u.onClick)||t.call(u,e)},[u,d]);return{toggle:d,enabled:m,pending:v,track:s,buttonProps:ty(tb({},g),{"aria-pressed":m,"data-lk-source":n,"data-lk-enabled":m,disabled:v,onClick:b})}}(n);return i.createElement("button",tb({},r),(null==t||t)&&no(n.source,a),n.children)}function nu(e){var t;let{className:n,quality:r}=function(e={}){let t=tQ(e.participant),{className:n,connectionQualityObserver:r}=i.useMemo(()=>(function(e){let t=e6("connection-quality"),n=function(e){let t=e8(e,o.dd.ConnectionQualityChanged).pipe(_(([e])=>e),el(e.connectionQuality));return t}(e);return{className:t,connectionQualityObserver:n}})(t),[t]),a=tC(r,o.ZV.Unknown);return{className:n,quality:a}}(e),a=i.useMemo(()=>ty(tb({},tj(e,{className:n})),{"data-lk-quality":r}),[r,e,n]);return i.createElement("div",tb({},a),null!=(t=e.children)?t:function(e){switch(e){case o.ZV.Excellent:return i.createElement(t6,null);case o.ZV.Good:return i.createElement(t4,null);case o.ZV.Poor:return i.createElement(t3,null);default:return i.createElement(t9,null)}}(r))}function nc(e){var{participant:t}=e,n=tw(e,["participant"]);let r=tQ(t),{className:a,infoObserver:l}=i.useMemo(()=>(function(e){let t=function(e){let t=e3(e,o.dd.ParticipantMetadataChanged).pipe(_(({name:e,identity:t,metadata:n})=>({name:e,identity:t,metadata:n})),el({name:e.name,identity:e.identity,metadata:e.metadata}));return t}(e);return{className:"lk-participant-name",infoObserver:t}})(r),[r]),{identity:u,name:c}=tC(l,{name:r.name,identity:r.identity,metadata:r.metadata}),s=i.useMemo(()=>tj(n,{className:a,"data-lk-participant-name":c}),[n,a,c]);return i.createElement("span",tb({},s),""!==c?c:u,n.children)}function ns(e){var t,{source:n,participant:r,show:a="always"}=e,l=tw(e,["source","participant","show"]);let{className:u,isMuted:c}=function(e,t={}){var n;let r=tQ(t.participant),{className:a,mediaMutedObserver:l}=i.useMemo(()=>(function(e,t){let n="track-muted-indicator-camera";switch(t){case o.fQ.Source.Camera:n="track-muted-indicator-camera";break;case o.fQ.Source.Microphone:n="track-muted-indicator-microphone"}let r=e6(n),i=te(e,t);return{className:r,mediaMutedObserver:i}})(r,e),[r,e]),u=tC(l,!!(null==(n=r.getTrack(e))?void 0:n.isMuted));return{isMuted:u,className:a}}(n,{participant:r}),s="always"===a||"muted"===a&&c||"unmuted"===a&&!c,d=i.useMemo(()=>tj(l,{className:u}),[u,l]);return s?i.createElement("div",ty(tb({},d),{"data-lk-muted":c}),null!=(t=l.children)?t:no(n,!c)):null}var nd=e=>i.createElement("svg",tb({width:320,height:320,viewBox:"0 0 320 320",preserveAspectRatio:"xMidYMid meet",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("path",{d:"M160 180C204.182 180 240 144.183 240 100C240 55.8172 204.182 20 160 20C115.817 20 79.9997 55.8172 79.9997 100C79.9997 144.183 115.817 180 160 180Z",fill:"white",fillOpacity:.25}),i.createElement("path",{d:"M97.6542 194.614C103.267 191.818 109.841 192.481 115.519 195.141C129.025 201.466 144.1 205 159.999 205C175.899 205 190.973 201.466 204.48 195.141C210.158 192.481 216.732 191.818 222.345 194.614C262.703 214.719 291.985 253.736 298.591 300.062C300.15 310.997 291.045 320 280 320H39.9997C28.954 320 19.8495 310.997 21.4087 300.062C28.014 253.736 57.2966 214.72 97.6542 194.614Z",fill:"white",fillOpacity:.25}));function nh(e){var{onTrackClick:t,onClick:n,onSubscriptionStatusChanged:r,name:a,publication:l,source:u,participant:c,manageSubscription:s}=e,d=tw(e,["onTrackClick","onClick","onSubscriptionStatusChanged","name","publication","source","participant","manageSubscription"]);let h=i.useRef(null),f=ts(h,{}),p=tc(f,3e3);i.useEffect(()=>{s&&l instanceof o.E8&&(null==p?void 0:p.isIntersecting)===!1&&(null==f?void 0:f.isIntersecting)===!1&&l.setSubscribed(!1)},[p,l,s]),i.useEffect(()=>{s&&l instanceof o.E8&&(null==f?void 0:f.isIntersecting)===!0&&l.setSubscribed(!0)},[f,l,s]);let v=tQ(c),{elementProps:m,publication:g,isSubscribed:b}=tq({participant:v,name:a,source:u,publication:l},{element:h,props:d});return i.useEffect(()=>{null==r||r(!!b)},[b,r]),i.createElement("video",ty(tb({ref:h},m),{muted:!0,onClick:e=>{null==n||n(e),null==t||t({participant:v,track:g})}}))}function nf(e){var{onSubscriptionStatusChanged:t,volume:n,source:r,name:a,publication:l,participant:u}=e,c=tw(e,["onSubscriptionStatusChanged","volume","source","name","publication","participant"]);let s=i.useRef(null),d=tQ(u),{elementProps:h,isSubscribed:f,track:p}=tq({source:r,name:a,participant:d,publication:l},{element:s,props:c});return i.useEffect(()=>{null==t||t(!!f)},[f,t]),i.useEffect(()=>{void 0!==p&&void 0!==n&&(p instanceof o.rl?p.setVolume(n):ez.warn("volume can only be set on remote audio tracks"))},[n,p]),i.createElement("audio",tb({ref:s},h))}function np(e){let t=!!tD();return e.participant&&!t?i.createElement(tA.Provider,{value:e.participant},e.children):i.createElement(i.Fragment,null,e.children)}function nv(e){var t,n,{participant:r,children:a,source:l=o.fQ.Source.Camera,onParticipantClick:u,publication:c,disableSpeakingIndicator:s}=e,d=tw(e,["participant","children","source","onParticipantClick","publication","disableSpeakingIndicator"]);let h=tQ(r),f=null!=(t=tO())?t:{participant:h,source:l,publication:c},{elementProps:p}=function({participant:e,source:t,publication:n,onParticipantClick:r,disableSpeakingIndicator:a,htmlProps:l}){let u=tQ(e),c=i.useMemo(()=>{let{className:e}=function(){let e=e6("participant-tile");return{className:e}}();return t_(l,{className:e,onClick:e=>{var i;if(null==(i=l.onClick)||i.call(l,e),"function"==typeof r){let e=null!=n?n:u.getTrack(t);r({participant:u,track:e})}}})},[l,t,r,u,n]),s=tW(o.fQ.Source.Camera,{participant:e}),d=tW(o.fQ.Source.Microphone,{participant:e}),h=function(e){let t=tQ(e),n=i.useMemo(()=>e8(t,o.dd.IsSpeakingChanged).pipe(_(([e])=>e)),[t]),r=tC(n,t.isSpeaking);return r}(e),f=function(e){if(e.publication instanceof o.Zr){let t=e.publication.track;if(t){let{facingMode:e}=(0,o.ul)(t);return e}}return"undefined"}({participant:e,publication:n,source:t});return{elementProps:tb({"data-lk-audio-muted":d,"data-lk-video-muted":s,"data-lk-speaking":!0!==a&&h,"data-lk-local-participant":e.isLocal,"data-lk-source":t,"data-lk-facing-mode":f},c)}}({participant:f.participant,htmlProps:d,source:f.source,publication:f.publication,disableSpeakingIndicator:s,onParticipantClick:u}),v=function(e){let t=tQ(e),n=tI(),r=i.useMemo(()=>e2(n,o.TQ.ParticipantEncryptionStatusChanged).pipe(ed(([,e])=>t.identity===(null==e?void 0:e.identity)||!e&&t.identity===n.localParticipant.identity),_(([e])=>e),el(t instanceof o.Ix?t.isE2EEEnabled:t.isEncrypted)),[n,t]),a=tC(r,t instanceof o.Ix?t.isE2EEEnabled:t.isEncrypted);return a}(h),m=tP(),g=i.useCallback(e=>{var t,n,r;f.source&&!e&&m&&m.pin.dispatch&&(t=f.participant,n=f.source,void 0!==(r=m.pin.state)&&r.some(({source:e,participant:r})=>e===n&&r.identity===t.identity))&&m.pin.dispatch({msg:"clear_pin"})},[f.participant,m,f.source]);return i.createElement("div",tb({style:{position:"relative"}},p),i.createElement(np,{participant:f.participant},null!=a?a:i.createElement(i.Fragment,null,(null==(n=f.publication)?void 0:n.kind)==="video"||f.source===o.fQ.Source.Camera||f.source===o.fQ.Source.ScreenShare?i.createElement(nh,{participant:f.participant,source:f.source,publication:f.publication,onSubscriptionStatusChanged:g,manageSubscription:!0}):i.createElement(nf,{participant:f.participant,source:f.source,publication:f.publication,onSubscriptionStatusChanged:g}),i.createElement("div",{className:"lk-participant-placeholder"},i.createElement(nd,null)),i.createElement("div",{className:"lk-participant-metadata"},i.createElement("div",{className:"lk-participant-metadata-item"},f.source===o.fQ.Source.Camera?i.createElement(i.Fragment,null,v&&i.createElement(t5,{style:{marginRight:"0.25rem"}}),i.createElement(ns,{source:o.fQ.Source.Microphone,show:"muted"}),i.createElement(nc,null)):i.createElement(i.Fragment,null,i.createElement(t8,{style:{marginRight:"0.25rem"}}),i.createElement(nc,null,"'s screen"))),i.createElement(nu,{className:"lk-participant-metadata-item"}))),i.createElement(nr,{trackSource:f.source})))}function nm(e){let t=tj(e,{className:"lk-focus-layout"});return i.createElement("div",tb({},t),e.children)}function ng(e){var{track:t}=e,n=tw(e,["track"]);return i.createElement(nv,tb(tb({},t),n))}function nb(e){var{tracks:t}=e,n=tw(e,["tracks"]);return i.createElement(i.Fragment,null,t.map(e=>{let t=eV(e)?e.publication.source:e.source;return i.createElement(tR.Provider,{value:e,key:`${e.participant.identity}_${t}`},tH(n.children))}))}function ny({totalPageCount:e,nextPage:t,prevPage:n,currentPage:r,pagesContainer:a}){let[o,l]=i.useState(!1);return i.useEffect(()=>{let e;return a&&(e=(function(e,t=1e3){var n,r;if(null===e)return ep(!1);let i=(function e(t,n,r,i){if(s(r)&&(i=r,r=void 0),i)return e(t,n,r).pipe((a=i,_(function(e){return ev(e)?a.apply(void 0,(0,h.ev)([],(0,h.CR)(e))):a(e)})));var a,o=(0,h.CR)(s(t.addEventListener)&&s(t.removeEventListener)?eg.map(function(e){return function(i){return t[e](n,i,r)}}):s(t.addListener)&&s(t.removeListener)?em.map(ey(t,n)):s(t.on)&&s(t.off)?eb.map(ey(t,n)):[],2),l=o[0],u=o[1];if(!l&&F(t))return ee(function(t){return e(t,n,r)})(G(t));if(!l)throw TypeError("Invalid event target");return new j(function(e){var t=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.next(1<t.length?t:t[0])};return l(t),function(){return u(t)}})})(e,"mousemove",{passive:!0}).pipe(_(()=>!0)),a=i.pipe(function(e,t){var n=e instanceof Date&&!isNaN(e)?{first:e}:"number"==typeof e?{each:e}:e,r=n.first,i=n.each,a=n.with,o=void 0===a?eM:a,l=n.scheduler,u=void 0===l?null!=t?t:eT:l,c=n.meta,s=void 0===c?null:c;if(null==r&&null==i)throw TypeError("No timeout provided.");return d(function(e,t){var n,a,l=null,c=0,d=function(e){a=K(t,u,function(){try{n.unsubscribe(),G(o({meta:s,lastValue:l,seen:c})).subscribe(t)}catch(e){t.error(e)}},e)};n=e.subscribe(U(t,function(e){null==a||a.unsubscribe(),c++,t.next(l=e),i>0&&d(i)},void 0,void 0,function(){(null==a?void 0:a.closed)||null==a||a.unsubscribe(),l=null})),c||d(null!=r?"number"==typeof r?r:+r-u.now():i)})}({each:t,with:()=>eo(ep(!1),a.pipe(d(function(e,t){var n=!1,r=U(t,function(){null==r||r.unsubscribe(),n=!0},S);G(i).subscribe(r),e.subscribe(U(t,function(e){return n&&t.next(e)}))})))}),(void 0===r&&(r=Z),n=null!=n?n:eP,d(function(e,t){var i,a=!0;e.subscribe(U(t,function(e){var o=r(e);(a||!n(i,o))&&(a=!1,i=o,t.next(e))}))})));return a})(a.current,2e3).subscribe(l)),()=>{e&&e.unsubscribe()}},[a]),i.createElement("div",{className:"lk-pagination-control","data-lk-user-interaction":o},i.createElement("button",{className:"lk-button",onClick:n},i.createElement(tK,null)),i.createElement("span",{className:"lk-pagination-count"},`${r} of ${e}`),i.createElement("button",{className:"lk-button",onClick:t},i.createElement(tK,null)))}function nw({totalPageCount:e,currentPage:t}){let n=Array(e).fill("").map((e,n)=>n+1===t?i.createElement("span",{"data-lk-active":!0,key:n}):i.createElement("span",{key:n}));return i.createElement("div",{className:"lk-pagination-indicator"},n)}function nE(e){var{tracks:t}=e,n=tw(e,["tracks"]);let r=i.createRef(),a=i.useMemo(()=>tj(n,{className:"lk-grid-layout"}),[n]),{layout:o}=function(e,t){let{width:n,height:r}=tS(e),a=n>0&&r>0?function e(t,n,r,i){let a=0,o=t.find((e,t,r)=>{a=t;let i=-1!==r.findIndex((n,r)=>{let i=n.maxTiles===e.maxTiles;return r>t&&i});return e.maxTiles>=n&&!i});if(void 0===o){if(o=t[t.length-1])ez.warn(`No layout found for: participantCount: ${n}, width/height: ${r}/${i} fallback to biggest available layout (${o.name}).`);else throw Error("No layout or fallback layout found.")}if((r<o.minWidth||i<o.minHeight)&&a>0){let n=t[a-1];o=e(t.slice(0,a),n.maxTiles,r,i)}return o}(eZ,t,n,r):eZ[0];return i.useEffect(()=>{e.current&&a&&(e.current.style.setProperty("--lk-col-count",null==a?void 0:a.columns.toString()),e.current.style.setProperty("--lk-row-count",null==a?void 0:a.rows.toString()))},[e,a]),{layout:a}}(r,t.length),l=function(e,t){let[n,r]=i.useState(1),a=Math.max(Math.ceil(t.length/e),1);n>a&&r(a);let o=n*e,l=o-e,u=e=>{r(t=>"next"===e?t===a?t:t+1:1===t?t:t-1)},c=tY(t,e),s=c.slice(l,o);return{totalPageCount:a,nextPage:()=>u("next"),prevPage:()=>u("previous"),setPage:e=>{e>a?r(a):e<1?r(1):r(e)},firstItemIndex:l,lastItemIndex:o,tracks:s,currentPage:n}}(o.maxTiles,t);return!function(e,t={}){var n;let r=i.useRef(null),a=i.useRef(null),o=null!=(n=t.minSwipeDistance)?n:50,l=e=>{a.current=null,r.current=e.targetTouches[0].clientX},u=e=>{a.current=e.targetTouches[0].clientX},c=i.useCallback(()=>{if(!r.current||!a.current)return;let e=r.current-a.current,n=e>o,i=e<-o;n&&t.onLeftSwipe&&t.onLeftSwipe(),i&&t.onRightSwipe&&t.onRightSwipe()},[o,t]);i.useEffect(()=>{let t=e.current;return t&&(t.addEventListener("touchstart",l,{passive:!0}),t.addEventListener("touchmove",u,{passive:!0}),t.addEventListener("touchend",c,{passive:!0})),()=>{t&&(t.removeEventListener("touchstart",l),t.removeEventListener("touchmove",u),t.removeEventListener("touchend",c))}},[e,c])}(r,{onLeftSwipe:l.nextPage,onRightSwipe:l.prevPage}),i.createElement("div",tb({ref:r,"data-lk-pagination":l.totalPageCount>1},a),i.createElement(nb,{tracks:l.tracks},n.children),t.length>o.maxTiles&&i.createElement(i.Fragment,null,i.createElement(nw,{totalPageCount:l.totalPageCount,currentPage:l.currentPage}),i.createElement(ny,tb({pagesContainer:r},l))))}function nk(e){var{tracks:t,orientation:n}=e,r=tw(e,["tracks","orientation"]);let a=i.useRef(null),[o,l]=i.useState(0),{width:u,height:c}=tS(a),s=n||(c>=u?"vertical":"horizontal"),d="vertical"===s?Math.max(.6000000000000001*u,130):Math.max(1.6*c,140),h=function(){let e=document.createElement("p");e.style.width="100%",e.style.height="200px";let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);let n=e.offsetWidth;t.style.overflow="scroll";let r=e.offsetWidth;n===r&&(r=t.clientWidth),document.body.removeChild(t);let i=n-r;return i}(),f="vertical"===s?Math.max((c-h)/d,1):Math.max((u-h)/d,1),p=Math.round(f);.5>Math.abs(f-o)?p=Math.round(o):o!==f&&l(f);let v=tY(t,p);return i.useLayoutEffect(()=>{a.current&&(a.current.dataset.lkOrientation=s,a.current.style.setProperty("--lk-max-visible-tiles",p.toString()))},[p,s]),i.createElement("aside",tb({key:s,className:"lk-carousel",ref:a},r),i.createElement(nb,{tracks:v},r.children))}function nS({value:e,onPinChange:t,onWidgetChange:n,children:r}){let a=function(e){let[t,n]=i.useReducer(tx,ej),[r,a]=i.useReducer(tT,eH);return null!=e?e:{pin:{dispatch:n,state:t},widget:{dispatch:a,state:r}}}(e);return i.useEffect(()=>{ez.debug("PinState Updated",{state:a.pin.state}),t&&a.pin.state&&t(a.pin.state)},[a.pin.state,t]),i.useEffect(()=>{ez.debug("Widget Updated",{widgetState:a.widget.state}),n&&a.widget.state&&n(a.widget.state)},[n,a.widget.state]),i.createElement(tM.Provider,{value:a},r)}function nC(e){let{room:t,htmlProps:n}=function(e){let t=tb(tb({},tz),e),{token:n,serverUrl:r,options:a,room:l,connectOptions:u,connect:c,audio:s,video:d,screen:h,onConnected:f,onDisconnected:p,onError:v,onMediaDeviceFailure:m,simulateParticipants:g}=t,b=tw(t,["token","serverUrl","options","room","connectOptions","connect","audio","video","screen","onConnected","onDisconnected","onError","onMediaDeviceFailure","simulateParticipants"]);a&&l&&ez.warn("when using a manually created room, the options object will be ignored. set the desired options directly when creating the room instead.");let[y,w]=i.useState();i.useEffect(()=>{w(null!=l?l:new o.du(a))},[l]);let E=i.useMemo(()=>{let{className:e}={className:"lk-room-container"};return t_(b,{className:e})},[b]);return i.useEffect(()=>{if(!y)return;let e=()=>{let e=y.localParticipant;ez.debug("trying to publish local tracks"),Promise.all([e.setMicrophoneEnabled(!!s,"boolean"!=typeof s?s:void 0),e.setCameraEnabled(!!d,"boolean"!=typeof d?d:void 0),e.setScreenShareEnabled(!!h,"boolean"!=typeof h?h:void 0)]).catch(e=>{ez.warn(e),null==v||v(e)})},t=e=>{let t=o.CB.getFailure(e);null==m||m(t)};return y.on(o.TQ.SignalConnected,e),y.on(o.TQ.MediaDevicesError,t),()=>{y.off(o.TQ.SignalConnected,e),y.off(o.TQ.MediaDevicesError,t)}},[y,s,d,h,v]),i.useEffect(()=>{if(y){if(g){y.simulateParticipants({participants:{count:g},publish:{audio:!0,useRealTracks:!0}});return}if(!n){ez.debug("no token yet");return}if(!r){ez.warn("no livekit url provided"),null==v||v(Error("no livekit url provided"));return}c?(ez.debug("connecting"),y.connect(r,n,u).catch(e=>{ez.warn(e),null==v||v(e)})):(ez.debug("disconnecting because connect is false"),y.disconnect())}},[c,n,JSON.stringify(u),y,v,r,g]),i.useEffect(()=>{if(!y)return;let e=e=>{switch(e){case o.em.Disconnected:p&&p();break;case o.em.Connected:f&&f()}};return y.on(o.TQ.ConnectionStateChanged,e),()=>{y.off(o.TQ.ConnectionStateChanged,e)}},[n,f,p,y]),i.useEffect(()=>{if(y)return()=>{ez.info("disconnecting on onmount"),y.disconnect()}},[y]),{room:y,htmlProps:E}}(e);return i.createElement("div",tb({},n),t&&i.createElement(tL.Provider,{value:t},e.children))}function nT(){let e=tV([o.fQ.Source.Microphone,o.fQ.Source.ScreenShareAudio],{updateOnlyOn:[],onlySubscribed:!1}).filter(e=>!eF(e.participant));return i.useEffect(()=>{e.forEach(e=>e.publication.setSubscribed(!0))},[e]),i.createElement("div",{style:{display:"none"}},e.map(e=>i.createElement(nf,tb({key:e.publication.trackSid},e))))}function nx(e){let t=i.useMemo(()=>tj(e,{className:"lk-toast"}),[e]);return i.createElement("div",tb({},t),e.children)}function nM(e){let[t,n]=i.useState(void 0),r=tF(e.room);return i.useEffect(()=>{switch(r){case o.em.Reconnecting:n(i.createElement(i.Fragment,null,i.createElement(nt,{className:"lk-spinner"})," Reconnecting"));break;case o.em.Connecting:n(i.createElement(i.Fragment,null,i.createElement(nt,{className:"lk-spinner"})," Connecting"));break;case o.em.Disconnected:n(i.createElement(i.Fragment,null,"Disconnected"));break;default:n(void 0)}},[r]),t?i.createElement(nx,{className:"lk-toast-connection-state"},t):i.createElement(i.Fragment,null)}function nP(e){var t,n,r,a,{entry:o,hideName:l=!1,hideTimestamp:u=!1,messageFormatter:c}=e,s=tw(e,["entry","hideName","hideTimestamp","messageFormatter"]);let d=i.useMemo(()=>c?c(o.message):o.message,[o.message,c]),h=new Date(o.timestamp),f=navigator?navigator.language:"en-US";return i.createElement("li",tb({className:"lk-chat-entry",title:h.toLocaleTimeString(f,{timeStyle:"full"}),"data-lk-message-origin":(null==(t=o.from)?void 0:t.isLocal)?"local":"remote"},s),(!u||!l)&&i.createElement("span",{className:"lk-meta-data"},!l&&i.createElement("strong",{className:"lk-participant-name"},null!=(a=null==(n=o.from)?void 0:n.name)?a:null==(r=o.from)?void 0:r.identity),!u&&i.createElement("span",{className:"lk-timestamp"},h.toLocaleTimeString(f,{timeStyle:"short"}))),i.createElement("span",{className:"lk-message-body"},d))}function nR(e){var{messageFormatter:t,messageDecoder:n,messageEncoder:r}=e,a=tw(e,["messageFormatter","messageDecoder","messageEncoder"]);let l=i.useRef(null),u=i.useRef(null),c=i.useMemo(()=>({messageDecoder:n,messageEncoder:r}),[n,r]),{send:s,chatMessages:h,isSending:f}=function(e){let t=tN(),[n,r]=i.useState(),a=tC(null==n?void 0:n.isSendingObservable,!1),l=tC(null==n?void 0:n.messageObservable,[]);return i.useEffect(()=>{let n=function(e,t){let n=new ec,r=new ec,{messageObservable:i}=function(e,t,n){let r;let i=e2(e,o.TQ.DataReceived).pipe(ed(([,,,e])=>void 0===t||e===t),_(([e,t,,r])=>{let i={payload:e,topic:r,from:t};return null==n||n(i),i})),a=new j(e=>{r=e});return{messageObservable:i,isSendingObservable:a,send:(n,...i)=>e_(this,[n,...i],function*(n,i={}){r.next(!0);try{yield tn(e.localParticipant,n,t,i)}finally{r.next(!1)}})}}(e,tt.CHAT);i.pipe(ef(n)).subscribe(r);let{messageDecoder:a,messageEncoder:l}=null!=t?t:{},u=null!=a?a:to,c=r.pipe(_(e=>{let t=u(e.payload),n=eI(eU({},t),{from:e.from});return n}),function(e,t){var n;return d((n=arguments.length>=2,function(r,i){var a=n,o=t,l=0;r.subscribe(U(i,function(t){var n=l++;o=a?e(o,t,n):(a=!0,t),i.next(o)},void 0))}))}((e,t)=>[...e,t],[]),ef(n)),s=new eh(!1),h=null!=l?l:ta;return{messageObservable:c,isSendingObservable:s,send:t=>e_(this,null,function*(){let n=Date.now(),i=h({message:t,timestamp:n});s.next(!0);try{yield tn(e.localParticipant,i,tt.CHAT,{kind:o.WO.RELIABLE}),r.next({payload:i,topic:tt.CHAT,from:e.localParticipant})}finally{s.next(!1)}}),destroy:function(){n.next(),n.complete()}}}(t,e);return r(n),n.destroy},[t,e]),{send:null==n?void 0:n.send,chatMessages:l,isSending:a}}(c),p=tP(),v=i.useRef(0);return i.useEffect(()=>{var e;u&&(null==(e=u.current)||e.scrollTo({top:u.current.scrollHeight}))},[u,h]),i.useEffect(()=>{var e,t,n,r,i;if(!p||0===h.length)return;if((null==(e=p.widget.state)?void 0:e.showChat)&&h.length>0&&v.current!==(null==(t=h[h.length-1])?void 0:t.timestamp)){v.current=null==(n=h[h.length-1])?void 0:n.timestamp;return}let a=h.filter(e=>!v.current||e.timestamp>v.current).length,{widget:o}=p;a>0&&(null==(r=o.state)?void 0:r.unreadMessages)!==a&&(null==(i=o.dispatch)||i.call(o,{msg:"unread_msg",count:a}))},[h,null==p?void 0:p.widget]),i.createElement("div",ty(tb({},a),{className:"lk-chat"}),i.createElement("ul",{className:"lk-list lk-chat-messages",ref:u},a.children?h.map((e,n)=>tH(a.children,{entry:e,key:n,messageFormatter:t})):h.map((e,n,r)=>{let a=n>=1&&r[n-1].from===e.from,o=n>=1&&e.timestamp-r[n-1].timestamp<6e4;return i.createElement(nP,{key:n,hideName:a,hideTimestamp:!1!==a&&o,entry:e,messageFormatter:t})})),i.createElement("form",{className:"lk-chat-form",onSubmit:function(e){return tE(this,null,function*(){e.preventDefault(),l.current&&""!==l.current.value.trim()&&s&&(yield s(l.current.value),l.current.value="",l.current.focus())})}},i.createElement("input",{className:"lk-form-control lk-chat-form-input",disabled:f,ref:l,type:"text",placeholder:"Enter a message..."}),i.createElement("button",{type:"submit",className:"lk-button lk-chat-form-button",disabled:f},"Send")))}function nO(e){var{kind:t,initialSelection:n,onActiveDeviceChange:r,tracks:a,requestPermissions:o=!1}=e,c=tw(e,["kind","initialSelection","onActiveDeviceChange","tracks","requestPermissions"]);let[s,d]=i.useState(!1),[h,f]=i.useState([]),[p,v]=i.useState(!0),m=(e,t)=>{ez.debug("handle device change"),d(!1),null==r||r(e,t)},g=i.useRef(null),b=i.useRef(null);i.useLayoutEffect(()=>{g.current&&b.current&&(h||p)&&(function(e,t){return e_(this,null,function*(){let{x:n,y:r}=yield(0,l.oo)(e,t,{placement:"top",middleware:[(0,u.cv)(6),(0,u.RR)(),(0,u.uY)({padding:5})]});return{x:n,y:r}})})(g.current,b.current).then(({x:e,y:t})=>{b.current&&Object.assign(b.current.style,{left:`${e}px`,top:`${t}px`})}),v(!1)},[g,b,h,p]);let y=i.useCallback(e=>{b.current&&e.target!==g.current&&s&&function(e,t){let n=!e.contains(t.target);return n}(b.current,e)&&d(!1)},[s,b,g]);return i.useEffect(()=>(document.addEventListener("click",y),window.addEventListener("resize",()=>v(!0)),()=>{document.removeEventListener("click",y),window.removeEventListener("resize",()=>v(!0))}),[y,v]),i.createElement(i.Fragment,null,i.createElement("button",ty(tb({className:"lk-button lk-button-menu","aria-pressed":s},c),{onClick:()=>d(!s),ref:g}),c.children),!c.disabled&&i.createElement("div",{className:"lk-device-menu",ref:b,style:{visibility:s?"visible":"hidden"}},t?i.createElement(ni,{initialSelection:n,onActiveDeviceChange:e=>m(t,e),onDeviceListChange:f,kind:t,track:null==a?void 0:a[t],requestPermissions:o}):i.createElement(i.Fragment,null,i.createElement("div",{className:"lk-device-menu-heading"},"Audio inputs"),i.createElement(ni,{kind:"audioinput",onActiveDeviceChange:e=>m("audioinput",e),onDeviceListChange:f,track:null==a?void 0:a.audioinput,requestPermissions:o}),i.createElement("div",{className:"lk-device-menu-heading"},"Video inputs"),i.createElement(ni,{kind:"videoinput",onActiveDeviceChange:e=>m("videoinput",e),onDeviceListChange:f,track:null==a?void 0:a.videoinput,requestPermissions:o}))))}function nA(e){var t,{variation:n,controls:r}=e,a=tw(e,["variation","controls"]);let[l,u]=i.useState(!1),c=tP();i.useEffect(()=>{var e,t;(null==(e=null==c?void 0:c.widget.state)?void 0:e.showChat)!==void 0&&u(null==(t=null==c?void 0:c.widget.state)?void 0:t.showChat)},[null==(t=null==c?void 0:c.widget.state)?void 0:t.showChat]);let s=function(e){let t=e=>"undefined"!=typeof window&&window.matchMedia(e).matches,[n,r]=i.useState(t(e));function a(){r(t(e))}return i.useEffect(()=>{let t=window.matchMedia(e);return a(),t.addListener?t.addListener(a):t.addEventListener("change",a),()=>{t.removeListener?t.removeListener(a):t.removeEventListener("change",a)}},[e]),n}(`(max-width: ${l?1e3:760}px)`);null!=n||(n=s?"minimal":"verbose");let d=tb({leave:!0},r),h=function(){let e=tN(),t=i.useMemo(()=>(function(e){let t=e8(e,o.dd.ParticipantPermissionsChanged).pipe(_(()=>e.permissions),el(e.permissions));return t})(e.localParticipant),[e]),n=tC(t,e.localParticipant.permissions);return n}();h?(null!=d.camera||(d.camera=h.canPublish),null!=d.microphone||(d.microphone=h.canPublish),null!=d.screenShare||(d.screenShare=h.canPublish),null!=d.chat||(d.chat=h.canPublishData&&(null==r?void 0:r.chat))):(d.camera=!1,d.chat=!1,d.microphone=!1,d.screenShare=!1);let f=i.useMemo(()=>"minimal"===n||"verbose"===n,[n]),p=i.useMemo(()=>"textOnly"===n||"verbose"===n,[n]),v="undefined"!=typeof navigator&&navigator.mediaDevices&&!!navigator.mediaDevices.getDisplayMedia,[m,g]=i.useState(!1),b=tj({className:"lk-control-bar"},a);return i.createElement("div",tb({},b),d.microphone&&i.createElement("div",{className:"lk-button-group"},i.createElement(nl,{source:o.fQ.Source.Microphone,showIcon:f},p&&"Microphone"),i.createElement("div",{className:"lk-button-group-menu"},i.createElement(nO,{kind:"audioinput"}))),d.camera&&i.createElement("div",{className:"lk-button-group"},i.createElement(nl,{source:o.fQ.Source.Camera,showIcon:f},p&&"Camera"),i.createElement("div",{className:"lk-button-group-menu"},i.createElement(nO,{kind:"videoinput"}))),d.screenShare&&v&&i.createElement(nl,{source:o.fQ.Source.ScreenShare,captureOptions:{audio:!0,selfBrowserSurface:"include"},showIcon:f,onChange:e=>{g(e)}},p&&(m?"Stop screen share":"Share screen")),d.chat&&i.createElement(t$,null,f&&i.createElement(tJ,null),p&&"Chat"),d.leave&&i.createElement(tB,null,f&&i.createElement(t1,null),p&&"Leave"),i.createElement(na,{label:"Start Audio"}))}function nD(e){var t,n,r,{chatMessageFormatter:a,chatMessageDecoder:l,chatMessageEncoder:u}=e,c=tw(e,["chatMessageFormatter","chatMessageDecoder","chatMessageEncoder"]);let[s,d]=i.useState({showChat:!1,unreadMessages:0}),h=i.useRef(null),f=tV([{source:o.fQ.Source.Camera,withPlaceholder:!0},{source:o.fQ.Source.ScreenShare,withPlaceholder:!1}],{updateOnlyOn:[o.TQ.ActiveSpeakersChanged],onlySubscribed:!1}),p=function(){let[e,t]=i.useReducer(tx,ej),[n,r]=i.useReducer(tT,eH);return{pin:{dispatch:t,state:e},widget:{dispatch:r,state:n}}}(),v=f.filter(eV).filter(e=>e.publication.source===o.fQ.Source.ScreenShare),m=null==(t=function(e){let t=tP();if(null!=e||(e=t),!e)throw Error("Tried to access LayoutContext context outside a LayoutContextProvider provider.");return e}(t=p),n=i.useMemo(()=>(null==t?void 0:t.pin.state)!==void 0&&t.pin.state.length>=1?t.pin.state:[],[t.pin.state]))?void 0:n[0],g=f.filter(e=>eV(e)&&eV(m)?e.publication.trackSid!==m.publication.trackSid:!(e$(e)&&e$(m))||e.participant.identity!==m.participant.identity||e.source!==m.source);return i.useEffect(()=>{var e,t,n,r;v.some(e=>e.publication.isSubscribed)&&null===h.current?(ez.debug("Auto set screen share focus:",{newScreenShareTrack:v[0]}),null==(t=(e=p.pin).dispatch)||t.call(e,{msg:"set_pin",trackReference:v[0]}),h.current=v[0]):h.current&&!v.some(e=>{var t,n;return e.publication.trackSid===(null==(n=null==(t=h.current)?void 0:t.publication)?void 0:n.trackSid)})&&(ez.debug("Auto clearing screen share focus."),null==(r=(n=p.pin).dispatch)||r.call(n,{msg:"clear_pin"}),h.current=null)},[v.map(e=>`${e.publication.trackSid}_${e.publication.isSubscribed}`).join(),null==(r=null==m?void 0:m.publication)?void 0:r.trackSid]),i.createElement("div",tb({className:"lk-video-conference"},c),"undefined"!=typeof document&&i.createElement(nS,{value:p,onWidgetChange:e=>{ez.debug("updating widget state",e),d(e)}},i.createElement("div",{className:"lk-video-conference-inner"},m?i.createElement("div",{className:"lk-focus-layout-wrapper"},i.createElement(nm,null,i.createElement(nk,{tracks:g},i.createElement(nv,null)),m&&i.createElement(ng,{track:m}))):i.createElement("div",{className:"lk-grid-layout-wrapper"},i.createElement(nE,{tracks:f},i.createElement(nv,null))),i.createElement(nA,{controls:{chat:!0}})),i.createElement(nR,{style:{display:s.showChat?"flex":"none"},messageFormatter:a,messageEncoder:u,messageDecoder:l})),i.createElement(nT,null),i.createElement(nM,null))}},5050:function(e,t,n){"use strict";n.d(t,{VY:function(){return F},fC:function(){return U},h_:function(){return _},xz:function(){return I}});var r=n(3428),i=n(2265),a=n(5744),o=n(2210),l=n(6989),u=n(9249),c=n(1244),s=n(2759),d=n(966),h=n(1114),f=n(2730),p=n(5606),v=n(9381),m=n(7256),g=n(3763),b=n(5859),y=n(2098);let w="Popover",[E,k]=(0,l.b)(w,[h.D7]),S=(0,h.D7)(),[C,T]=E(w),x=(0,i.forwardRef)((e,t)=>{let{__scopePopover:n,...l}=e,u=T("PopoverTrigger",n),c=S(n),s=(0,o.e)(t,u.triggerRef),d=(0,i.createElement)(v.WV.button,(0,r.Z)({type:"button","aria-haspopup":"dialog","aria-expanded":u.open,"aria-controls":u.contentId,"data-state":N(u.open)},l,{ref:s,onClick:(0,a.M)(e.onClick,u.onOpenToggle)}));return u.hasCustomAnchor?d:(0,i.createElement)(h.ee,(0,r.Z)({asChild:!0},c),d)}),M="PopoverPortal",[P,R]=E(M,{forceMount:void 0}),O="PopoverContent",A=(0,i.forwardRef)((e,t)=>{let n=R(O,e.__scopePopover),{forceMount:a=n.forceMount,...o}=e,l=T(O,e.__scopePopover);return(0,i.createElement)(p.z,{present:a||l.open},l.modal?(0,i.createElement)(D,(0,r.Z)({},o,{ref:t})):(0,i.createElement)(Q,(0,r.Z)({},o,{ref:t})))}),D=(0,i.forwardRef)((e,t)=>{let n=T(O,e.__scopePopover),l=(0,i.useRef)(null),u=(0,o.e)(t,l),c=(0,i.useRef)(!1);return(0,i.useEffect)(()=>{let e=l.current;if(e)return(0,b.Ry)(e)},[]),(0,i.createElement)(y.Z,{as:m.g7,allowPinchZoom:!0},(0,i.createElement)(L,(0,r.Z)({},e,{ref:u,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,a.M)(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),c.current||null===(t=n.triggerRef.current)||void 0===t||t.focus()}),onPointerDownOutside:(0,a.M)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey,r=2===t.button||n;c.current=r},{checkForDefaultPrevented:!1}),onFocusOutside:(0,a.M)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})))}),Q=(0,i.forwardRef)((e,t)=>{let n=T(O,e.__scopePopover),a=(0,i.useRef)(!1),o=(0,i.useRef)(!1);return(0,i.createElement)(L,(0,r.Z)({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var r,i;null===(r=e.onCloseAutoFocus)||void 0===r||r.call(e,t),t.defaultPrevented||(a.current||null===(i=n.triggerRef.current)||void 0===i||i.focus(),t.preventDefault()),a.current=!1,o.current=!1},onInteractOutside:t=>{var r,i;null===(r=e.onInteractOutside)||void 0===r||r.call(e,t),t.defaultPrevented||(a.current=!0,"pointerdown"!==t.detail.originalEvent.type||(o.current=!0));let l=t.target,u=null===(i=n.triggerRef.current)||void 0===i?void 0:i.contains(l);u&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&o.current&&t.preventDefault()}}))}),L=(0,i.forwardRef)((e,t)=>{let{__scopePopover:n,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:l,disableOutsidePointerEvents:d,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:v,onInteractOutside:m,...g}=e,b=T(O,n),y=S(n);return(0,c.EW)(),(0,i.createElement)(s.M,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:o,onUnmountAutoFocus:l},(0,i.createElement)(u.XB,{asChild:!0,disableOutsidePointerEvents:d,onInteractOutside:m,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:v,onDismiss:()=>b.onOpenChange(!1)},(0,i.createElement)(h.VY,(0,r.Z)({"data-state":N(b.open),role:"dialog",id:b.contentId},y,g,{ref:t,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}))))});function N(e){return e?"open":"closed"}let U=e=>{let{__scopePopover:t,children:n,open:r,defaultOpen:a,onOpenChange:o,modal:l=!1}=e,u=S(t),c=(0,i.useRef)(null),[s,f]=(0,i.useState)(!1),[p=!1,v]=(0,g.T)({prop:r,defaultProp:a,onChange:o});return(0,i.createElement)(h.fC,u,(0,i.createElement)(C,{scope:t,contentId:(0,d.M)(),triggerRef:c,open:p,onOpenChange:v,onOpenToggle:(0,i.useCallback)(()=>v(e=>!e),[v]),hasCustomAnchor:s,onCustomAnchorAdd:(0,i.useCallback)(()=>f(!0),[]),onCustomAnchorRemove:(0,i.useCallback)(()=>f(!1),[]),modal:l},n))},I=x,_=e=>{let{__scopePopover:t,forceMount:n,children:r,container:a}=e,o=T(M,t);return(0,i.createElement)(P,{scope:t,forceMount:n},(0,i.createElement)(p.z,{present:n||o.open},(0,i.createElement)(f.h,{asChild:!0,container:a},r)))},F=A},6813:function(e,t,n){"use strict";let r;n.d(t,{N:function(){return A}});var i=n(6504),a=n(7156),o=n(8202),l=n(9492),u=n(3238);class c extends l.l{constructor(e,t){super(),this.client=e,this.options=t,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(t)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.currentQuery.addObserver(this),s(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return d(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return d(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,t){let n=this.options,r=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),(0,i.VS)(n,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled)throw Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),this.updateQuery();let a=this.hasListeners();a&&h(this.currentQuery,r,this.options,n)&&this.executeFetch(),this.updateResult(t),a&&(this.currentQuery!==r||this.options.enabled!==n.enabled||this.options.staleTime!==n.staleTime)&&this.updateStaleTimeout();let o=this.computeRefetchInterval();a&&(this.currentQuery!==r||this.options.enabled!==n.enabled||o!==this.currentRefetchInterval)&&this.updateRefetchInterval(o)}getOptimisticResult(e){let t=this.client.getQueryCache().build(this.client,e),n=this.createResult(t,e);return e.keepPreviousData||(void 0!==e.placeholderData?!n.isPlaceholderData:(0,i.VS)(this.getCurrentResult(),n))||(this.currentResult=n,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),n}getCurrentResult(){return this.currentResult}trackResult(e){let t={};return Object.keys(e).forEach(n=>{Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(n),e[n])})}),t}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...t}={}){return this.fetch({...t,meta:{refetchPage:e}})}fetchOptimistic(e){let t=this.client.defaultQueryOptions(e),n=this.client.getQueryCache().build(this.client,t);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,t))}fetch(e){var t;return this.executeFetch({...e,cancelRefetch:null==(t=e.cancelRefetch)||t}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let t=this.currentQuery.fetch(this.options,e);return null!=e&&e.throwOnError||(t=t.catch(i.ZT)),t}updateStaleTimeout(){if(this.clearStaleTimeout(),i.sk||this.currentResult.isStale||!(0,i.PN)(this.options.staleTime))return;let e=(0,i.Kp)(this.currentResult.dataUpdatedAt,this.options.staleTime);this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},e+1)}computeRefetchInterval(){var e;return"function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.currentResult.data,this.currentQuery):null!=(e=this.options.refetchInterval)&&e}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!i.sk&&!1!==this.options.enabled&&(0,i.PN)(this.currentRefetchInterval)&&0!==this.currentRefetchInterval&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||o.j.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,t){let n;let r=this.currentQuery,a=this.options,o=this.currentResult,l=this.currentResultState,c=this.currentResultOptions,d=e!==r,p=d?e.state:this.currentQueryInitialState,v=d?this.currentResult:this.previousQueryResult,{state:m}=e,{dataUpdatedAt:g,error:b,errorUpdatedAt:y,fetchStatus:w,status:E}=m,k=!1,S=!1;if(t._optimisticResults){let n=this.hasListeners(),i=!n&&s(e,t),o=n&&h(e,r,t,a);(i||o)&&(w=(0,u.Kw)(e.options.networkMode)?"fetching":"paused",g||(E="loading")),"isRestoring"===t._optimisticResults&&(w="idle")}if(t.keepPreviousData&&!m.dataUpdatedAt&&null!=v&&v.isSuccess&&"error"!==E)n=v.data,g=v.dataUpdatedAt,E=v.status,k=!0;else if(t.select&&void 0!==m.data){if(o&&m.data===(null==l?void 0:l.data)&&t.select===this.selectFn)n=this.selectResult;else try{this.selectFn=t.select,n=t.select(m.data),n=(0,i.oE)(null==o?void 0:o.data,n,t),this.selectResult=n,this.selectError=null}catch(e){this.selectError=e}}else n=m.data;if(void 0!==t.placeholderData&&void 0===n&&"loading"===E){let e;if(null!=o&&o.isPlaceholderData&&t.placeholderData===(null==c?void 0:c.placeholderData))e=o.data;else if(e="function"==typeof t.placeholderData?t.placeholderData():t.placeholderData,t.select&&void 0!==e)try{e=t.select(e),this.selectError=null}catch(e){this.selectError=e}void 0!==e&&(E="success",n=(0,i.oE)(null==o?void 0:o.data,e,t),S=!0)}this.selectError&&(b=this.selectError,n=this.selectResult,y=Date.now(),E="error");let C="fetching"===w,T="loading"===E,x="error"===E,M={status:E,fetchStatus:w,isLoading:T,isSuccess:"success"===E,isError:x,isInitialLoading:T&&C,data:n,dataUpdatedAt:g,error:b,errorUpdatedAt:y,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>p.dataUpdateCount||m.errorUpdateCount>p.errorUpdateCount,isFetching:C,isRefetching:C&&!T,isLoadingError:x&&0===m.dataUpdatedAt,isPaused:"paused"===w,isPlaceholderData:S,isPreviousData:k,isRefetchError:x&&0!==m.dataUpdatedAt,isStale:f(e,t),refetch:this.refetch,remove:this.remove};return M}updateResult(e){let t=this.currentResult,n=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,(0,i.VS)(n,t))return;this.currentResult=n;let r={cache:!0};(null==e?void 0:e.listeners)!==!1&&(()=>{if(!t)return!0;let{notifyOnChangeProps:e}=this.options,n="function"==typeof e?e():e;if("all"===n||!n&&!this.trackedProps.size)return!0;let r=new Set(null!=n?n:this.trackedProps);return this.options.useErrorBoundary&&r.add("error"),Object.keys(this.currentResult).some(e=>{let n=this.currentResult[e]!==t[e];return n&&r.has(e)})})()&&(r.listeners=!0),this.notify({...r,...e})}updateQuery(){let e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;let t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(null==t||t.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){let t={};"success"===e.type?t.onSuccess=!e.manual:"error"!==e.type||(0,u.DV)(e.error)||(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()}notify(e){a.V.batch(()=>{var t,n,r,i,a,o,l,u;e.onSuccess?(null==(t=(n=this.options).onSuccess)||t.call(n,this.currentResult.data),null==(r=(i=this.options).onSettled)||r.call(i,this.currentResult.data,null)):e.onError&&(null==(a=(o=this.options).onError)||a.call(o,this.currentResult.error),null==(l=(u=this.options).onSettled)||l.call(u,void 0,this.currentResult.error)),e.listeners&&this.listeners.forEach(({listener:e})=>{e(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function s(e,t){return!1!==t.enabled&&!e.state.dataUpdatedAt&&!("error"===e.state.status&&!1===t.retryOnMount)||e.state.dataUpdatedAt>0&&d(e,t,t.refetchOnMount)}function d(e,t,n){if(!1!==t.enabled){let r="function"==typeof n?n(e):n;return"always"===r||!1!==r&&f(e,t)}return!1}function h(e,t,n,r){return!1!==n.enabled&&(e!==t||!1===r.enabled)&&(!n.suspense||"error"!==e.state.status)&&f(e,n)}function f(e,t){return e.isStaleByTime(t.staleTime)}var p=n(7262);class v extends c{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,t){super.setOptions({...e,behavior:(0,p.Gm)()},t)}getOptimisticResult(e){return e.behavior=(0,p.Gm)(),super.getOptimisticResult(e)}fetchNextPage({pageParam:e,...t}={}){return this.fetch({...t,meta:{fetchMore:{direction:"forward",pageParam:e}}})}fetchPreviousPage({pageParam:e,...t}={}){return this.fetch({...t,meta:{fetchMore:{direction:"backward",pageParam:e}}})}createResult(e,t){var n,r,i,a,o,l;let{state:u}=e,c=super.createResult(e,t),{isFetching:s,isRefetching:d}=c,h=s&&(null==(n=u.fetchMeta)?void 0:null==(r=n.fetchMore)?void 0:r.direction)==="forward",f=s&&(null==(i=u.fetchMeta)?void 0:null==(a=i.fetchMore)?void 0:a.direction)==="backward";return{...c,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:(0,p.Qy)(t,null==(o=u.data)?void 0:o.pages),hasPreviousPage:(0,p.ZF)(t,null==(l=u.data)?void 0:l.pages),isFetchingNextPage:h,isFetchingPreviousPage:f,isRefetching:d&&!h&&!f}}}var m=n(2265),g=n(6272);let b=g.useSyncExternalStore,y=m.createContext((r=!1,{clearReset:()=>{r=!1},reset:()=>{r=!0},isReset:()=>r})),w=()=>m.useContext(y);var E=n(165);let k=m.createContext(!1),S=()=>m.useContext(k);k.Provider;let C=(e,t)=>{(e.suspense||e.useErrorBoundary)&&!t.isReset()&&(e.retryOnMount=!1)},T=e=>{m.useEffect(()=>{e.clearReset()},[e])},x=({result:e,errorResetBoundary:t,useErrorBoundary:n,query:r})=>{var i;return e.isError&&!t.isReset()&&!e.isFetching&&(i=[e.error,r],"function"==typeof n?n(...i):!!n)},M=e=>{e.suspense&&"number"!=typeof e.staleTime&&(e.staleTime=1e3)},P=(e,t)=>e.isLoading&&e.isFetching&&!t,R=(e,t,n)=>(null==e?void 0:e.suspense)&&P(t,n),O=(e,t,n)=>t.fetchOptimistic(e).then(({data:t})=>{null==e.onSuccess||e.onSuccess(t),null==e.onSettled||e.onSettled(t,null)}).catch(t=>{n.clearReset(),null==e.onError||e.onError(t),null==e.onSettled||e.onSettled(void 0,t)});function A(e,t,n){let r=(0,i._v)(e,t,n);return function(e,t){let n=(0,E.NL)({context:e.context}),r=S(),i=w(),o=n.defaultQueryOptions(e);o._optimisticResults=r?"isRestoring":"optimistic",o.onError&&(o.onError=a.V.batchCalls(o.onError)),o.onSuccess&&(o.onSuccess=a.V.batchCalls(o.onSuccess)),o.onSettled&&(o.onSettled=a.V.batchCalls(o.onSettled)),M(o),C(o,i),T(i);let[l]=m.useState(()=>new t(n,o)),u=l.getOptimisticResult(o);if(b(m.useCallback(e=>{let t=r?()=>void 0:l.subscribe(a.V.batchCalls(e));return l.updateResult(),t},[l,r]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),m.useEffect(()=>{l.setOptions(o,{listeners:!1})},[o,l]),R(o,u,r))throw O(o,l,i);if(x({result:u,errorResetBoundary:i,useErrorBoundary:o.useErrorBoundary,query:l.getCurrentQuery()}))throw u.error;return o.notifyOnChangeProps?u:l.trackResult(u)}(r,v)}}}]);